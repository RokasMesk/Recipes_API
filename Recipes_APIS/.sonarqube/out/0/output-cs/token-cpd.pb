¸
RC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\WeatherForecast.cs
	namespace 	
Recipes_API
 
{ 
public 

class 
WeatherForecast  
{ 
public 
DateOnly 
Date 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
TemperatureC 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
int		 
TemperatureF		 
=>		  "
$num		# %
+		& '
(		( )
int		) ,
)		, -
(		- .
TemperatureC		. :
/		; <
$num		= C
)		C D
;		D E
public 
string 
? 
Summary 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
Strtr 
{ 
get 
; 
set  #
;# $
}% &
} 
} ï

iC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Repositories\Interface\IUserRepository.cs
	namespace 	
Recipe
 
. 
Repositories 
. 
	Interface '
{ 
public 

	interface 
IUserRepository $
{ 
Task 
< 
Product 
> 
CreateAsync !
(! "
Product" )
product* 1
)1 2
;2 3
Task 
< 
IEnumerable 
< 
Product  
>  !
>! "
GetAllAsync# .
(. /
)/ 0
;0 1
Task		 
<		 
Product		 
?		 
>		 
GetByIdAsync		 #
(		# $
int		$ '
id		( *
)		* +
;		+ ,
Task

 
<

 
Product

 
?

 
>

 
UpdateAsync

 "
(

" #
Product

# *
product

+ 2
)

2 3
;

3 4
Task 
< 
Product 
? 
> 
DeleteAsync "
(" #
int# &
id' )
)) *
;* +
} 
} ‘
jC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Repositories\Interface\ITokenRepository.cs
	namespace 	
Recipe
 
. 
Repositories 
. 
	Interface '
{ 
public 

	interface 
ITokenRepository %
{ 
string 
CreateJwtToken 
( 
IdentityUser *
user+ /
,/ 0
List1 5
<5 6
string6 <
>< =
roles> C
)C D
;D E
}		 
}

 Ç
oC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Repositories\Interface\IRecipeTypeRepository.cs
	namespace 	
Recipe
 
. 
Repositories 
. 
	Interface '
{ 
public 

	interface !
IRecipeTypeRepository *
{ 
Task 
< 

RecipeType 
? 
> 
GetByIdAsync &
(& '
int' *
id+ -
)- .
;. /
Task 
< 
IEnumerable 
< 

RecipeType #
># $
?$ %
>% &
GetAllTypes' 2
(2 3
)3 4
;4 5
}		 
}

 ∆
kC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Repositories\Interface\IRecipeRepository.cs
	namespace 	
Recipe
 
. 
Repositories 
. 
	Interface '
{ 
public 

	interface 
IRecipeRepository &
{ 
Task 
< 
Recipee 
> 
CreateAsync  
(  !
Recipee! (
recipee) 0
)0 1
;1 2
Task 
< 
IEnumerable 
< 
Recipee  
>  !
>! "
GetAllAsync# .
(. /
)/ 0
;0 1
Task		 
<		 
Recipee		 
?		 
>		 
GetByIdAsync		 #
(		# $
int		$ '
id		( *
)		* +
;		+ ,
Task

 
<

 
Recipee

 
?

 
>

 
UpdateAsync

 "
(

" #
Recipee

# *
recipee

+ 2
)

2 3
;

3 4
Task 
< 
Recipee 
? 
> 
DeleteAsync "
(" #
int# &
id' )
)) *
;* +
Task 
< 
IEnumerable 
< 
Recipee  
?  !
>! "
>" #
SearchByTitleAsync$ 6
(6 7
string7 =
title> C
)C D
;D E
Task 
< 
IEnumerable 
< 
Recipee  
?  !
>! "
>" #
GetRecipesByUserId$ 6
(6 7
string7 =
id> @
)@ A
;A B
Task %
AddRecipeToFavoritesAsync &
(& '
string' -
userId. 4
,4 5
int6 9
recipeId: B
)B C
;C D
Task *
RemoveRecipeFromFavoritesAsync +
(+ ,
string, 2
userId3 9
,9 :
int; >
recipeId? G
)G H
;H I
Task 
< 
List 
< 
Recipee 
> 
> *
GetFavoriteRecipesForUserAsync :
(: ;
string; A
userIdB H
)H I
;I J
Task 
< 
List 
< 
Recipee 
> 
> -
!SearchBySelectedProductNamesAsync =
(= >
List> B
<B C
stringC I
>I J 
selectedProductNamesK _
)_ `
;` a
Task 
AddRatingAsync 
( 
string "
userId# )
,) *
int+ .
recipeId/ 7
,7 8
float9 >
rating? E
)E F
;F G
Task 
< 
float 
> !
GetAverageRatingAsync )
() *
string* 0
userId1 7
,7 8
int9 <
recipeId= E
)E F
;F G
Task 
AddCommentAsync 
( 
Comment $
comment% ,
), -
;- .
Task 
< 
IEnumerable 
< 
Comment  
>  !
>! "&
GetCommentsByRecipeIdAsync# =
(= >
int> A
recipeIdB J
)J K
;K L
Task 
< 
IEnumerable 
< 
Recipee  
>  !
>! "$
GetAllNonVerifiedRecipes# ;
(; <
)< =
;= >
Task 
< 
Recipee 
? 
> 
UpdateVerifiedAsync *
(* +
Recipee+ 2
recipe3 9
)9 :
;: ;
} 
} Ó
lC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Repositories\Interface\IProductRepository.cs
	namespace 	
Recipe
 
. 
Repositories 
. 
	Interface '
{ 
public 

	interface 
IProductRepository '
{ 
Task 
< 
Product 
> 
CreateAsync !
(! "
Product" )
product* 1
)1 2
;2 3
Task 
< 
IEnumerable 
< 
Product  
>  !
>! "
GetAllAsync# .
(. /
)/ 0
;0 1
Task		 
<		 
IEnumerable		 
<		 
Product		 
>		 
>		 %
GetAllNonVerifiedProducts		 6
(		6 7
)		7 8
;		8 9
Task

 
<

 
Product

 
?

 
>

 
UpdateVerifiedAsync

 *
(

* +
Product

+ 2
product

3 :
)

: ;
;

; <
Task 
< 
Product 
? 
> 
GetByIdAsync 
( 
int !
id" $
)$ %
;% &
Task 
< 
Product 
? 
> 
UpdateAsync "
(" #
Product# *
product+ 2
)2 3
;3 4
Task 
< 
Product 
? 
> 
DeleteAsync "
(" #
int# &
id' )
)) *
;* +
Task 
< 
List 
< 
Product 
> 
> -
!SearchBySelectedProductNamesAsync =
(= >
List> B
<B C
stringC I
>I J 
selectedProductNamesK _
)_ `
;` a
} 
} Î
nC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Repositories\Implementation\TokenRepository.cs
	namespace 	
Recipe
 
. 
Repositories 
. 
Implementation ,
{ 
public 

class 
TokenRepository  
:! "
ITokenRepository# 3
{ 
private 
readonly 
IConfiguration '
_config( /
;/ 0
public 
TokenRepository 
( 
IConfiguration -
config. 4
)4 5
{ 	
_config 
= 
config 
; 
} 	
public 
string 
CreateJwtToken $
($ %
IdentityUser% 1
user2 6
,6 7
List8 <
<< =
string= C
>C D
rolesE J
)J K
{ 	
var 
claims 
= 
new 
List !
<! "
Claim" '
>' (
(( )
)) *
{ 
new 
Claim 
( 

ClaimTypes $
.$ %
Email% *
,* +
user, 0
.0 1
Email1 6
)6 7
} 
; 
claims 
. 
AddRange 
( 
roles !
.! "
Select" (
(( )
role) -
=>. 0
new1 4
Claim5 :
(: ;

ClaimTypes; E
.E F
RoleF J
,J K
roleL P
)P Q
)Q R
)R S
;S T
var 
key 
= 
new  
SymmetricSecurityKey .
(. /
Encoding/ 7
.7 8
UTF88 <
.< =
GetBytes= E
(E F
_configF M
[M N
$strN W
]W X
)X Y
)Y Z
;Z [
var   
credentials   
=   
new   !
SigningCredentials  " 4
(  4 5
key  5 8
,  8 9
SecurityAlgorithms  : L
.  L M

HmacSha256  M W
)  W X
;  X Y
var"" 
token"" 
="" 
new"" 
JwtSecurityToken"" ,
("", -
issuer## 
:## 
_config## 
[##  
$str##  ,
]##, -
,##- .
audience$$ 
:$$ 
_config$$ !
[$$! "
$str$$" 0
]$$0 1
,$$1 2
claims%% 
:%% 
claims%% 
,%% 
expires&& 
:&& 
DateTime&& !
.&&! "
Now&&" %
.&&% &

AddMinutes&&& 0
(&&0 1
$num&&1 3
)&&3 4
,&&4 5
signingCredentials'' "
:''" #
credentials''$ /
)''/ 0
;''0 1
return)) 
new)) #
JwtSecurityTokenHandler)) .
()). /
)))/ 0
.))0 1

WriteToken))1 ;
()); <
token))< A
)))A B
;))B C
}** 	
}++ 
},, ”
sC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Repositories\Implementation\RecipeTypeRepository.cs
	namespace 	
Recipe
 
. 
Repositories 
. 
Implementation ,
{ 
public 

class  
RecipeTypeRepository %
:& '!
IRecipeTypeRepository( =
{		 
private

 
readonly

  
ApplicationDbContext

 -
_db

. 1
;

1 2
public  
RecipeTypeRepository #
(# $ 
ApplicationDbContext$ 8
db9 ;
); <
{ 	
_db 
= 
db 
; 
} 	
public 
async 
Task 
< 

RecipeType $
?$ %
>% &
GetByIdAsync' 3
(3 4
int4 7
id8 :
): ;
{ 	
return 
await 
_db 
. 
RecipeTypes (
.( )
FirstOrDefaultAsync) <
(< =
x= >
=>? A
xB C
.C D
IdD F
==G I
idJ L
)L M
;M N
} 	
public 
async 
Task 
< 
IEnumerable %
<% &

RecipeType& 0
>0 1
?1 2
>2 3
GetAllTypes4 ?
(? @
)@ A
{ 	
return 
await 
_db 
. 
RecipeTypes (
.( )
ToListAsync) 4
(4 5
)5 6
;6 7
} 	
} 
} ú≥
oC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Repositories\Implementation\RecipeRepository.cs
	namespace 	
Recipe
 
. 
Repositories 
. 
Implementation ,
{ 
public 

class 
RecipeRepository !
:" #
IRecipeRepository$ 5
{ 
private 
readonly  
ApplicationDbContext -
_db. 1
;1 2
public 
RecipeRepository 
(   
ApplicationDbContext  4
db5 7
)7 8
{ 	
_db 
= 
db 
; 
} 	
public 
async 
Task 
< 
Recipee !
>! "
CreateAsync# .
(. /
Recipee/ 6
recipee7 >
)> ?
{ 	
await 
_db 
. 
Recipes 
. 
AddAsync &
(& '
recipee' .
). /
;/ 0
await 
_db 
. 
SaveChangesAsync &
(& '
)' (
;( )
return 
recipee 
; 
} 	
public 
async 
Task 
< 
Recipee !
?! "
>" #
DeleteAsync$ /
(/ 0
int0 3
id4 6
)6 7
{ 	
var 
existingRecipe 
=  
await! &
_db' *
.* +
Recipes+ 2
.2 3
FirstOrDefaultAsync3 F
(F G
xG H
=>I K
xL M
.M N
IdN P
==Q S
idT V
)V W
;W X
if   
(   
existingRecipe   
!=   !
null  " &
)  & '
{!! 
_db"" 
."" 
Recipes"" 
."" 
Remove"" "
(""" #
existingRecipe""# 1
)""1 2
;""2 3
await## 
_db## 
.## 
SaveChangesAsync## *
(##* +
)##+ ,
;##, -
return$$ 
existingRecipe$$ %
;$$% &
}%% 
return&& 
null&& 
;&& 
}'' 	
public** 
async** 
Task** 
<** 
IEnumerable** %
<**% &
Recipee**& -
>**- .
>**. /
GetAllAsync**0 ;
(**; <
)**< =
{++ 	
return,, 
await,, 
_db,, 
.,, 
Recipes,, $
.,,$ %
Include,,% ,
(,,, -
x,,- .
=>,,/ 1
x,,2 3
.,,3 4
User,,4 8
),,8 9
.,,9 :
Include,,: A
(,,A B
x,,B C
=>,,D F
x,,G H
.,,H I
Products,,I Q
),,Q R
.,,R S
Include,,S Z
(,,Z [
x,,[ \
=>,,\ ^
x,,_ `
.,,` a
Type,,a e
),,e f
.,,f g
ToListAsync,,g r
(,,r s
),,s t
;,,t u
}.. 	
public00 
async00 
Task00 
<00 
Recipee00 !
?00! "
>00" #
GetByIdAsync00$ 0
(000 1
int001 4
id005 7
)007 8
{11 	
return22 
await22 
_db22 
.22 
Recipes22 $
.22$ %
Include22% ,
(22, -
x22- .
=>22/ 1
x222 3
.223 4
User224 8
)228 9
.229 :
Include22: A
(22A B
x22B C
=>22C E
x22F G
.22G H
Products22H P
)22P Q
.22Q R
Include22R Y
(22Y Z
x22Z [
=>22[ ]
x22^ _
.22_ `
Type22` d
)22d e
.22e f
FirstOrDefaultAsync33 #
(33# $
x33$ %
=>33& (
x33) *
.33* +
Id33+ -
==33. 0
id331 3
)333 4
;334 5
}44 	
public66 
async66 
Task66 
<66 
Recipee66 !
?66! "
>66" #
UpdateAsync66$ /
(66/ 0
Recipee660 7
recipee668 ?
)66? @
{77 	
var88 
existingRecipe88 
=88  
await88! &
_db88' *
.88* +
Recipes88+ 2
.882 3
Include883 :
(88: ;
x88; <
=>88= ?
x88@ A
.88A B
Products88B J
)88J K
.88K L
Include88L S
(88S T
x88T U
=>88U W
x88X Y
.88Y Z
Type88Z ^
)88^ _
.88_ `
FirstOrDefaultAsync99 #
(99# $
x99$ %
=>99& (
x99) *
.99* +
Id99+ -
==99. 0
recipee991 8
.998 9
Id999 ;
)99; <
;99< =
if:: 
(:: 
existingRecipe:: 
==:: !
null::" &
)::& '
{;; 
return<< 
null<< 
;<< 
}== 
_db>> 
.>> 
Entry>> 
(>> 
existingRecipe>> $
)>>$ %
.>>% &
CurrentValues>>& 3
.>>3 4
	SetValues>>4 =
(>>= >
recipee>>> E
)>>E F
;>>F G
existingRecipe?? 
.?? 
Products?? #
=??$ %
recipee??& -
.??- .
Products??. 6
;??6 7
existingRecipe@@ 
.@@ 
Type@@ 
=@@  !
recipee@@" )
.@@) *
Type@@* .
;@@. /
awaitAA 
_dbAA 
.AA 
SaveChangesAsyncAA &
(AA& '
)AA' (
;AA( )
returnBB 
recipeeBB 
;BB 
}CC 	
publicEE 
asyncEE 
TaskEE 
<EE 
IEnumerableEE %
<EE% &
RecipeeEE& -
>EE- .
>EE. /
SearchByTitleAsyncEE0 B
(EEB C
stringEEC I
titleEEJ O
)EEO P
{FF 	
returnGG 
awaitGG 
_dbGG 
.GG 
RecipesGG $
.GG$ %
WhereGG% *
(GG* +
recipeeGG+ 2
=>GG3 5
recipeeGG6 =
.GG= >
TitleGG> C
.GGC D
ContainsGGD L
(GGL M
titleGGM R
)GGR S
)GGS T
.GGT U
ToListAsyncGGU `
(GG` a
)GGa b
;GGb c
}HH 	
publicJJ 
asyncJJ 
TaskJJ 
<JJ 
IEnumerableJJ %
<JJ% &
RecipeeJJ& -
?JJ- .
>JJ. /
>JJ/ 0
GetRecipesByUserIdJJ1 C
(JJC D
stringJJD J
idJJK M
)JJM N
{KK 	
varLL 
recipesLL 
=LL 
awaitLL 
_dbLL  #
.LL# $
RecipesLL$ +
.LL+ ,
IncludeLL, 3
(LL3 4
xLL4 5
=>LL6 8
xLL9 :
.LL: ;
ProductsLL; C
)LLC D
.LLD E
IncludeLLE L
(LLL M
xLLM N
=>LLO Q
xLLR S
.LLS T
TypeLLT X
)LLX Y
.LLY Z
WhereLLZ _
(LL_ `
rLL` a
=>LLb d
rLLe f
.LLf g
UserLLg k
.LLk l
IdLLl n
==LLo q
idLLr t
)LLt u
.LLu v
ToListAsync	LLv Å
(
LLÅ Ç
)
LLÇ É
;
LLÉ Ñ
returnMM 
recipesMM 
;MM 
}NN 	
publicPP 
asyncPP 
TaskPP %
AddRecipeToFavoritesAsyncPP 3
(PP3 4
stringPP4 :
userIdPP; A
,PPA B
intPPC F
recipeIdPPG O
)PPO P
{QQ 	
varRR 
favoriteRecordRR 
=RR  
newRR! $
UserFavoriteRecipeRR% 7
{SS 
UserIdTT 
=TT 
userIdTT 
,TT  
	RecipeeIdUU 
=UU 
recipeIdUU $
}VV 
;VV 
_dbXX 
.XX 
UserFavoriteRecipesXX #
.XX# $
AddXX$ '
(XX' (
favoriteRecordXX( 6
)XX6 7
;XX7 8
awaitYY 
_dbYY 
.YY 
SaveChangesAsyncYY &
(YY& '
)YY' (
;YY( )
}ZZ 	
public\\ 
async\\ 
Task\\ *
RemoveRecipeFromFavoritesAsync\\ 8
(\\8 9
string\\9 ?
userId\\@ F
,\\F G
int\\H K
recipeId\\L T
)\\T U
{]] 	
var^^ 
favoriteToRemove^^  
=^^! "
await^^# (
_db^^) ,
.^^, -
UserFavoriteRecipes^^- @
.__+ ,
FirstOrDefaultAsync__, ?
(__? @
ufr__@ C
=>__D F
ufr__G J
.__J K
UserId__K Q
==__R T
userId__U [
&&__\ ^
ufr___ b
.__b c
	RecipeeId__c l
==__m o
recipeId__p x
)__x y
;__y z
ifaa 
(aa 
favoriteToRemoveaa  
!=aa! #
nullaa$ (
)aa( )
{bb 
_dbcc 
.cc 
UserFavoriteRecipescc '
.cc' (
Removecc( .
(cc. /
favoriteToRemovecc/ ?
)cc? @
;cc@ A
awaitdd 
_dbdd 
.dd 
SaveChangesAsyncdd *
(dd* +
)dd+ ,
;dd, -
}ee 
}ff 	
publichh 
asynchh 
Taskhh 
<hh 
Listhh 
<hh 
Recipeehh &
>hh& '
>hh' (*
GetFavoriteRecipesForUserAsynchh) G
(hhG H
stringhhH N
userIdhhO U
)hhU V
{ii 	
returnjj 
awaitjj 
_dbjj 
.jj 
UserFavoriteRecipesjj 0
.kk 
Wherekk 
(kk 
ufrkk 
=>kk 
ufrkk !
.kk! "
UserIdkk" (
==kk) +
userIdkk, 2
)kk2 3
.ll 
Includell 
(ll 
ufrll 
=>ll 
ufrll  #
.ll# $
Recipeell$ +
)ll+ ,
.mm 
ThenIncludemm  
(mm  !
recipemm! '
=>mm( *
recipemm+ 1
.mm1 2
Typemm2 6
)mm6 7
.nn 
Includenn 
(nn 
ufrnn 
=>nn 
ufrnn  #
.nn# $
Recipeenn$ +
)nn+ ,
.oo 
ThenIncludeoo  
(oo  !
recipeoo! '
=>oo( *
recipeoo+ 1
.oo1 2
Productsoo2 :
)oo: ;
.pp 
Includepp 
(pp 
ufrpp 
=>pp 
ufrpp  #
.pp# $
Recipeepp$ +
.pp+ ,
Userpp, 0
)pp0 1
.qq 
Selectqq 
(qq 
ufrqq 
=>qq 
ufrqq "
.qq" #
Recipeeqq# *
)qq* +
.rr 
ToListAsyncrr 
(rr 
)rr 
;rr 
}tt 	
publicuu 
asyncuu 
Taskuu 
<uu 
Listuu 
<uu 
Recipeeuu &
>uu& '
>uu' (-
!SearchBySelectedProductNamesAsyncuu) J
(uuJ K
ListuuK O
<uuO P
stringuuP V
>uuV W 
selectedProductNamesuuX l
)uul m
{vv 	
varww 
recipesww 
=ww 
awaitww 
_dbww  #
.ww# $
Recipesww$ +
.ww+ ,
Whereww, 1
(ww1 2
recipeww2 8
=>ww9 ;
recipeww< B
.wwB C
ProductswwC K
.wwK L
AnywwL O
(wwO P
productwwP W
=>wwX Z 
selectedProductNamesww[ o
.wwo p
Containswwp x
(wwx y
product	wwy Ä
.
wwÄ Å
ProductName
wwÅ å
)
wwå ç
)
wwç é
)
wwé è
.
wwè ê
Include
wwê ó
(
wwó ò
x
wwò ô
=>
wwô õ
x
wwõ ú
.
wwú ù
Type
wwù °
)
ww° ¢
.
ww¢ £
Include
ww£ ™
(
ww™ ´
x
ww´ ¨
=>
ww¨ Æ
x
wwÆ Ø
.
wwØ ∞
User
ww∞ ¥
)
ww¥ µ
.xx 
ToListAsyncxx 
(xx 
)xx 
;xx 
return{{ 
recipes{{ 
;{{ 
}|| 	
public~~ 
async~~ 
Task~~ 
AddRatingAsync~~ (
(~~( )
string~~) /
userId~~0 6
,~~6 7
int~~8 ;
recipeId~~< D
,~~D E
float~~F K
rating~~L R
)~~R S
{ 	
var
ÄÄ 
recipe
ÄÄ 
=
ÄÄ 
await
ÄÄ 
_db
ÄÄ "
.
ÄÄ" #
Recipes
ÄÄ# *
.
ÄÄ* +
	FindAsync
ÄÄ+ 4
(
ÄÄ4 5
recipeId
ÄÄ5 =
)
ÄÄ= >
;
ÄÄ> ?
if
ÅÅ 
(
ÅÅ 
recipe
ÅÅ 
==
ÅÅ 
null
ÅÅ 
)
ÅÅ 
{
ÇÇ 
throw
ÉÉ 
new
ÉÉ 
ArgumentException
ÉÉ +
(
ÉÉ+ ,
$"
ÉÉ, .
$str
ÉÉ. =
{
ÉÉ= >
recipeId
ÉÉ> F
}
ÉÉF G
$str
ÉÉG R
"
ÉÉR S
)
ÉÉS T
;
ÉÉT U
}
ÑÑ 
var
ÜÜ 
existingRating
ÜÜ 
=
ÜÜ  
await
ÜÜ! &
_db
ÜÜ' *
.
ÜÜ* +
UserRecipeRatings
ÜÜ+ <
.
áá !
FirstOrDefaultAsync
áá $
(
áá$ %
r
áá% &
=>
áá' )
r
áá* +
.
áá+ ,
UserId
áá, 2
==
áá3 5
userId
áá6 <
&&
áá= ?
r
áá@ A
.
ááA B
	RecipeeId
ááB K
==
ááL N
recipeId
ááO W
)
ááW X
;
ááX Y
if
ââ 
(
ââ 
existingRating
ââ 
!=
ââ !
null
ââ" &
)
ââ& '
{
ää 
existingRating
ãã 
.
ãã 
RecipeRating
ãã +
=
ãã, -
rating
ãã. 4
;
ãã4 5
var
åå 
totalRating
åå 
=
åå  !
recipe
åå" (
.
åå( )
Rating
åå) /
*
åå0 1
recipe
åå2 8
.
åå8 9
RatedPeopleCount
åå9 I
;
ååI J
totalRating
çç 
-=
çç 
recipe
çç %
.
çç% &
Rating
çç& ,
;
çç, -
totalRating
éé 
+=
éé 
rating
éé %
;
éé% &
recipe
èè 
.
èè 
Rating
èè 
=
èè 
totalRating
èè  +
/
èè, -
recipe
èè. 4
.
èè4 5
RatedPeopleCount
èè5 E
;
èèE F
}
êê 
else
ëë 
{
íí 
recipe
ìì 
.
ìì 
RatedPeopleCount
ìì '
++
ìì' )
;
ìì) *
var
îî 
totalRating
îî 
=
îî  !
recipe
îî" (
.
îî( )
Rating
îî) /
*
îî0 1
(
îî2 3
recipe
îî3 9
.
îî9 :
RatedPeopleCount
îî: J
-
îîK L
$num
îîM N
)
îîN O
;
îîO P
totalRating
ïï 
+=
ïï 
rating
ïï %
;
ïï% &
recipe
ññ 
.
ññ 
Rating
ññ 
=
ññ 
totalRating
ññ  +
/
ññ, -
recipe
ññ. 4
.
ññ4 5
RatedPeopleCount
ññ5 E
;
ññE F
_db
òò 
.
òò 
UserRecipeRatings
òò %
.
òò% &
Add
òò& )
(
òò) *
new
òò* -
UserRecipeRating
òò. >
{
ôô 
UserId
öö 
=
öö 
userId
öö #
,
öö# $
	RecipeeId
õõ 
=
õõ 
recipeId
õõ  (
,
õõ( )
RecipeRating
úú  
=
úú! "
rating
úú# )
}
ùù 
)
ùù 
;
ùù 
}
ûû 
await
†† 
_db
†† 
.
†† 
SaveChangesAsync
†† &
(
††& '
)
††' (
;
††( )
}
°° 	
public
££ 
async
££ 
Task
££ 
<
££ 
float
££ 
>
££  #
GetAverageRatingAsync
££! 6
(
££6 7
string
££7 =
userId
££> D
,
££D E
int
££F I
recipeId
££J R
)
££R S
{
§§ 	
var
•• 
ratings
•• 
=
•• 
await
•• 
_db
••  #
.
••# $
UserRecipeRatings
••$ 5
.
¶¶ 
Where
¶¶ 
(
¶¶ 
r
¶¶ 
=>
¶¶ 
r
¶¶ 
.
¶¶ 
	RecipeeId
¶¶ '
==
¶¶( *
recipeId
¶¶+ 3
)
¶¶3 4
.
ßß 
Where
ßß 
(
ßß 
r
ßß 
=>
ßß 
r
ßß 
.
ßß 
UserId
ßß $
==
ßß% '
userId
ßß( .
)
ßß. /
.
®® !
FirstOrDefaultAsync
®® $
(
®®$ %
)
®®% &
;
®®& '
if
©© 
(
©© 
ratings
©© 
==
©© 
null
©© 
)
©©  
return
™™ 
-
™™ 
$num
™™ 
;
™™ 
return
¨¨ 
ratings
¨¨ 
.
¨¨ 
RecipeRating
¨¨ '
;
¨¨' (
}
≠≠ 	
public
ØØ 
async
ØØ 
Task
ØØ 
AddCommentAsync
ØØ )
(
ØØ) *
Comment
ØØ* 1
comment
ØØ2 9
)
ØØ9 :
{
∞∞ 	
_db
±± 
.
±± 
Comments
±± 
.
±± 
Add
±± 
(
±± 
comment
±± $
)
±±$ %
;
±±% &
await
≤≤ 
_db
≤≤ 
.
≤≤ 
SaveChangesAsync
≤≤ &
(
≤≤& '
)
≤≤' (
;
≤≤( )
}
≥≥ 	
public
µµ 
async
µµ 
Task
µµ 
<
µµ 
IEnumerable
µµ %
<
µµ% &
Comment
µµ& -
>
µµ- .
>
µµ. /(
GetCommentsByRecipeIdAsync
µµ0 J
(
µµJ K
int
µµK N
recipeId
µµO W
)
µµW X
{
∂∂ 	
return
∑∑ 
await
∑∑ 
_db
∑∑ 
.
∑∑ 
Comments
∑∑ %
.
∏∏ 
Where
∏∏ 
(
∏∏ 
c
∏∏ 
=>
∏∏ 
c
∏∏ 
.
∏∏ 
RecipeId
∏∏ &
==
∏∏' )
recipeId
∏∏* 2
)
∏∏2 3
.
ππ 
ToListAsync
ππ 
(
ππ 
)
ππ 
;
ππ 
}
∫∫ 	
public
ªª 
async
ªª 
Task
ªª 
<
ªª 
Recipee
ªª !
?
ªª! "
>
ªª" #!
UpdateVerifiedAsync
ªª$ 7
(
ªª7 8
Recipee
ªª8 ?
recipe
ªª@ F
)
ªªF G
{
ºº 	
var
ΩΩ 
existingRecipe
ΩΩ 
=
ΩΩ  
await
ΩΩ! &
_db
ΩΩ' *
.
ΩΩ* +
Recipes
ΩΩ+ 2
.
ΩΩ2 3!
FirstOrDefaultAsync
ΩΩ3 F
(
ΩΩF G
x
ΩΩG H
=>
ΩΩI K
x
ΩΩL M
.
ΩΩM N
Id
ΩΩN P
==
ΩΩQ S
recipe
ΩΩT Z
.
ΩΩZ [
Id
ΩΩ[ ]
)
ΩΩ] ^
;
ΩΩ^ _
if
ææ 
(
ææ 
existingRecipe
ææ 
==
ææ !
null
ææ" &
)
ææ& '
{
øø 
return
¿¿ 
null
¿¿ 
;
¿¿ 
}
¡¡ 
existingRecipe
√√ 
.
√√ 

IsVerified
√√ %
=
√√& '
true
√√( ,
;
√√, -
existingRecipe
≈≈ 
.
≈≈ 
Title
≈≈  
=
≈≈! "
recipe
≈≈# )
.
≈≈) *
Title
≈≈* /
;
≈≈/ 0
existingRecipe
∆∆ 
.
∆∆ 
ShortDescription
∆∆ +
=
∆∆, -
recipe
∆∆. 4
.
∆∆4 5
ShortDescription
∆∆5 E
;
∆∆E F
existingRecipe
«« 
.
«« 
Description
«« &
=
««' (
recipe
««) /
.
««/ 0
Description
««0 ;
;
««; <
existingRecipe
»» 
.
»» 
ImageUrl
»» #
=
»»$ %
recipe
»»& ,
.
»», -
ImageUrl
»»- 5
;
»»5 6
await
ÀÀ 
_db
ÀÀ 
.
ÀÀ 
SaveChangesAsync
ÀÀ &
(
ÀÀ& '
)
ÀÀ' (
;
ÀÀ( )
return
ÃÃ 
existingRecipe
ÃÃ !
;
ÃÃ! "
}
ÕÕ 	
public
œœ 
async
œœ 
Task
œœ 
<
œœ 
IEnumerable
œœ %
<
œœ% &
Recipee
œœ& -
>
œœ- .
>
œœ. /&
GetAllNonVerifiedRecipes
œœ0 H
(
œœH I
)
œœI J
{
–– 	
var
——  
nonVerifiedRecipes
—— "
=
——# $
await
——% *
_db
——+ .
.
——. /
Recipes
——/ 6
.
——6 7
Where
——7 <
(
——< =
x
——= >
=>
——? A
!
——B C
x
——C D
.
——D E

IsVerified
——E O
)
——O P
.
——P Q
ToListAsync
——Q \
(
——\ ]
)
——] ^
;
——^ _
var
““ 

recipeDTOs
““ 
=
““  
nonVerifiedRecipes
““ /
.
““/ 0
Select
““0 6
(
““6 7
recipe
““7 =
=>
““> @
new
““A D
Recipee
““E L
{
”” 
Id
‘‘ 
=
‘‘ 
recipe
‘‘ 
.
‘‘ 
Id
‘‘ 
,
‘‘ 
Title
’’ 
=
’’ 
recipe
’’ 
.
’’ 
Title
’’ $
,
’’$ %
ShortDescription
÷÷  
=
÷÷! "
recipe
÷÷# )
.
÷÷) *
ShortDescription
÷÷* :
,
÷÷: ;
Description
◊◊ 
=
◊◊ 
recipe
◊◊ $
.
◊◊$ %
Description
◊◊% 0
,
◊◊0 1
ImageUrl
ÿÿ 
=
ÿÿ 
recipe
ÿÿ !
.
ÿÿ! "
ImageUrl
ÿÿ" *
,
ÿÿ* +
}
⁄⁄ 
)
⁄⁄ 
.
⁄⁄ 
ToList
⁄⁄ 
(
⁄⁄ 
)
⁄⁄ 
;
⁄⁄ 
return
€€ 

recipeDTOs
€€ 
;
€€ 
}
‹‹ 	
}
ÄÄ 
}ÅÅ Ï;
pC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Repositories\Implementation\ProductRepository.cs
	namespace 	
Recipe
 
. 
Repositories 
. 
Implementation ,
{		 
public

 

class

 
ProductRepository

 "
:

" #
IProductRepository

$ 6
{ 
private 
readonly  
ApplicationDbContext -
_db. 1
;1 2
public 
ProductRepository  
(  ! 
ApplicationDbContext! 5
db6 8
)8 9
{ 	
_db 
= 
db 
; 
} 	
public 
async 
Task 
< 
Product !
>! "
CreateAsync# .
(. /
Product/ 6
product7 >
)> ?
{ 	
await 
_db 
. 
Products 
. 
AddAsync '
(' (
product( /
)/ 0
;0 1
await 
_db 
. 
SaveChangesAsync &
(& '
)' (
;( )
return 
product 
; 
} 	
public 
async 
Task 
< 
Product !
?! "
>" #
DeleteAsync$ /
(/ 0
int0 3
id4 6
)6 7
{ 	
var 
existingProduct 
=  !
await" '
_db( +
.+ ,
Products, 4
.4 5
FirstOrDefaultAsync5 H
(H I
xI J
=>K M
xN O
.O P
IdP R
==S U
idV X
)X Y
;Y Z
if 
( 
existingProduct 
!=  "
null# '
)' (
{ 
_db 
. 
Products 
. 
Remove #
(# $
existingProduct$ 3
)3 4
;4 5
await 
_db 
. 
SaveChangesAsync *
(* +
)+ ,
;, -
return 
existingProduct &
;& '
}   
return!! 
null!! 
;!! 
}"" 	
public$$ 
async$$ 
Task$$ 
<$$ 
IEnumerable$$ %
<$$% &
Product$$& -
>$$- .
>$$. /
GetAllAsync$$0 ;
($$; <
)$$< =
{%% 	
return&& 
await&& 
_db&& 
.&& 
Products&& %
.&&% &
Where&&& +
(&&+ ,
x&&, -
=>&&- /
x&&0 1
.&&1 2

IsVerified&&2 <
==&&< >
true&&> B
)&&B C
.&&C D
ToListAsync&&D O
(&&O P
)&&P Q
;&&Q R
}'' 	
public(( 
async((	 
Task(( 
<(( 
IEnumerable(( 
<((  
Product((  '
>((' (
>((( )%
GetAllNonVerifiedProducts((* C
(((C D
)((D E
{)) 
return** 	
await**
 
_db** 
.** 
Products** 
.** 
Where** "
(**" #
x**# $
=>**% '
x**( )
.**) *

IsVerified*** 4
==**4 6
false**6 ;
)**; <
.**< =
ToListAsync**= H
(**H I
)**I J
;**J K
}++ 
public,, 
async,,	 
Task,, 
<,, 
Product,, 
?,, 
>,, 
GetByIdAsync,, *
(,,* +
int,,+ .
id,,/ 1
),,1 2
{-- 	
return.. 
await.. 
_db.. 
... 
Products.. %
...% &
FirstOrDefaultAsync// #
(//# $
x//$ %
=>//& (
x//) *
.//* +
Id//+ -
==//. 0
id//1 3
)//3 4
;//4 5
}00 	
public22 
async22 
Task22 
<22 
Product22 !
?22! "
>22" #
UpdateAsync22$ /
(22/ 0
Product220 7
product228 ?
)22? @
{33 	
var44 
existingProduct44 
=44  !
await44" '
_db44( +
.44+ ,
Products44, 4
.444 5
FirstOrDefaultAsync55 #
(55# $
x55$ %
=>55& (
x55) *
.55* +
Id55+ -
==55. 0
product551 8
.558 9
Id559 ;
)55; <
;55< =
if66 
(66 
existingProduct66 
==66  "
null66# '
)66' (
{77 
return88 
null88 
;88 
}99 
_db:: 
.:: 
Entry:: 
(:: 
existingProduct:: %
)::% &
.::& '
CurrentValues::' 4
.::4 5
	SetValues::5 >
(::> ?
product::? F
)::F G
;::G H
await<< 
_db<< 
.<< 
SaveChangesAsync<< &
(<<& '
)<<' (
;<<( )
return== 
product== 
;== 
}>> 	
public?? 
async?? 
Task?? 
<?? 
Product?? !
???! "
>??" #
UpdateVerifiedAsync??$ 7
(??7 8
Product??8 ?
product??@ G
)??G H
{@@ 	
varAA 
existingProductAA 
=AA  !
awaitAA" '
_dbAA( +
.AA+ ,
ProductsAA, 4
.AA4 5
FirstOrDefaultAsyncAA5 H
(AAH I
xAAI J
=>AAK M
xAAN O
.AAO P
IdAAP R
==AAR T
productAAT [
.AA[ \
IdAA\ ^
)AA^ _
;AA_ `
ifBB 
(BB 
existingProductBB 
==BB  "
nullBB# '
)BB' (
{CC 
returnDD 
nullDD 
;DD 
}EE 
existingProductFF 
.FF 

IsVerifiedFF &
=FF& '
trueFF( ,
;FF, -
_dbGG 
.GG 
EntryGG 
(GG 
existingProductGG 
)GG 
.GG 
CurrentValuesGG +
.GG+ ,
	SetValuesGG, 5
(GG5 6
productGG6 =
)GG= >
;GG> ?
awaitII 
_dbII	 
.II 
SaveChangesAsyncII 
(II 
)II 
;II  
returnJJ 	
existingProductJJ
 
;JJ 
}KK 
publicMM 
asyncMM	 
TaskMM 
<MM 
ListMM 
<MM 
ProductMM  
>MM  !
>MM! "-
!SearchBySelectedProductNamesAsyncMM# D
(MMD E
ListMME I
<MMI J
stringMMJ P
>MMP Q 
selectedProductNamesMMR f
)MMf g
{NN 	
returnPP 
awaitPP 
_dbPP 
.PP 
ProductsPP %
.QQ 
WhereQQ 
(QQ 
pQQ 
=>QQ  
selectedProductNamesQQ 0
.QQ0 1
ContainsQQ1 9
(QQ9 :
pQQ: ;
.QQ; <
ProductNameQQ< G
)QQG H
)QQH I
.RR 
ToListAsyncRR 
(RR 
)RR 
;RR 
}SS 	
}TT 
}UU ˜C
JC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Program.cs
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
)  
;  !
builder 
. 
Services 
. 
	AddScoped 
< 
ITokenRepository +
,+ ,
TokenRepository- <
>< =
(= >
)> ?
;? @
builder 
. 
Services 
. 
	AddScoped 
< 
IRecipeRepository ,
,, -
RecipeRepository. >
>> ?
(? @
)@ A
;A B
builder 
. 
Services 
. 
	AddScoped 
< 
IProductRepository -
,- .
ProductRepository/ @
>@ A
(A B
)B C
;C D
builder 
. 
Services 
. 
	AddScoped 
< !
IRecipeTypeRepository 0
,0 1 
RecipeTypeRepository2 F
>F G
(G H
)H I
;I J
builder 
. 
Services 
. 
AddDbContext 
<  
ApplicationDbContext 2
>2 3
(3 4
options4 ;
=>< >
{ 
options 
. 
UseSqlServer 
( 
builder  
.  !
Configuration! .
.. /
GetConnectionString/ B
(B C
$strC L
)L M
)M N
;N O
} 
) 
; 
builder   
.   
Services   
.   
AddCors   
(   
options    
=>  ! #
{!! 
options"" 
."" 
AddDefaultPolicy"" 
("" 
builder"" $
=>""% '
{## 
builder$$ 
.$$ 
AllowAnyOrigin$$ 
($$ 
)$$  
.%% 
AllowAnyMethod%% 
(%% 
)%%  
.&& 
AllowAnyHeader&& 
(&& 
)&&  
;&&  !
}'' 
)'' 
;'' 
}(( 
)(( 
;(( 
builder** 
.** 
Services** 
.** 
AddIdentityCore**  
<**  !
ApplicationUser**! 0
>**0 1
(**1 2
)**2 3
.++ 
AddRoles++ 
<++ 
IdentityRole++ 
>++ 
(++ 
)++ 
.,, 
AddTokenProvider,, 
<,, &
DataProtectorTokenProvider,, 0
<,,0 1
ApplicationUser,,1 @
>,,@ A
>,,A B
(,,B C
$str,,C L
),,L M
.-- $
AddEntityFrameworkStores-- 
<--  
ApplicationDbContext-- 2
>--2 3
(--3 4
)--4 5
... $
AddDefaultTokenProviders.. 
(.. 
).. 
;..  
builder00 
.00 
Services00 
.00 
	Configure00 
<00 
IdentityOptions00 *
>00* +
(00+ ,
options00, 3
=>004 6
{11 
options22 
.22 
Password22 
.22 
RequireDigit22 !
=22" #
false22$ )
;22) *
options33 
.33 
Password33 
.33 
RequireLowercase33 %
=33& '
false33( -
;33- .
options44 
.44 
Password44 
.44 "
RequireNonAlphanumeric44 +
=44, -
false44. 3
;443 4
options55 
.55 
Password55 
.55 
RequireUppercase55 %
=55& '
false55( -
;55- .
options66 
.66 
Password66 
.66 
RequiredLength66 #
=66$ %
$num66& '
;66' (
options77 
.77 
Password77 
.77 
RequiredUniqueChars77 (
=77) *
$num77+ ,
;77, -
}88 
)88 
;88 
builder:: 
.:: 
Services:: 
.:: 
AddAuthentication:: "
(::" #
JwtBearerDefaults::# 4
.::4 5 
AuthenticationScheme::5 I
)::I J
.;; 
AddJwtBearer;; 
(;; 
options;; 
=>;; 
{<< 
options== 
.== %
TokenValidationParameters== )
===* +
new==, /
	Microsoft==0 9
.==9 :
IdentityModel==: G
.==G H
Tokens==H N
.==N O%
TokenValidationParameters==O h
{>> 	
AuthenticationType?? 
=??  
$str??! &
,??& '
ValidateIssuer@@ 
=@@ 
true@@ !
,@@! "
ValidateAudienceAA 
=AA 
trueAA #
,AA# $
ValidateLifetimeBB 
=BB 
trueBB #
,BB# $$
ValidateIssuerSigningKeyCC $
=CC% &
trueCC' +
,CC+ ,
ValidIssuerDD 
=DD 
builderDD !
.DD! "
ConfigurationDD" /
[DD/ 0
$strDD0 <
]DD< =
,DD= >
ValidAudienceEE 
=EE 
builderEE #
.EE# $
ConfigurationEE$ 1
[EE1 2
$strEE2 @
]EE@ A
,EEA B
IssuerSigningKeyFF 
=FF 
newFF " 
SymmetricSecurityKeyFF# 7
(FF7 8
SystemFF8 >
.FF> ?
TextFF? C
.FFC D
EncodingFFD L
.FFL M
UTF8FFM Q
.FFQ R
GetBytesFFR Z
(FFZ [
builderGG 
.GG 
ConfigurationGG %
[GG% &
$strGG& /
]GG/ 0
)GG0 1
)GG1 2
}HH 	
;HH	 

}II 
)II 
;II 
builderJJ 
.JJ 
ServicesJJ 
.JJ 
AddIdentityJJ 
<JJ 
ApplicationUserJJ ,
,JJ, -
IdentityRoleJJ. :
>JJ: ;
(JJ; <
)JJ< =
.KK $
AddEntityFrameworkStoresKK 
<KK  
ApplicationDbContextKK 2
>KK2 3
(KK3 4
)KK4 5
;KK5 6
builderMM 
.MM 
ServicesMM 
.MM 
	AddScopedMM 
<MM 
UserManagerMM &
<MM& '
ApplicationUserMM' 6
>MM6 7
>MM7 8
(MM8 9
)MM9 :
;MM: ;
builderNN 
.NN 
ServicesNN 
.NN 
	AddScopedNN 
<NN 
SignInManagerNN (
<NN( )
ApplicationUserNN) 8
>NN8 9
>NN9 :
(NN: ;
)NN; <
;NN< =
varPP 
appPP 
=PP 	
builderPP
 
.PP 
BuildPP 
(PP 
)PP 
;PP 
ifSS 
(SS 
appSS 
.SS 
EnvironmentSS 
.SS 
IsDevelopmentSS !
(SS! "
)SS" #
)SS# $
{TT 
appUU 
.UU 

UseSwaggerUU 
(UU 
)UU 
;UU 
appVV 
.VV 
UseSwaggerUIVV 
(VV 
)VV 
;VV 
}WW 
appYY 
.YY 
UseHttpsRedirectionYY 
(YY 
)YY 
;YY 
app[[ 
.[[ 
UseCors[[ 
([[ 
)[[ 
;[[ 
app\\ 
.\\ 
UseAuthentication\\ 
(\\ 
)\\ 
;\\ 
app]] 
.]] 
UseAuthorization]] 
(]] 
)]] 
;]] 
app__ 
.__ 
MapControllers__ 
(__ 
)__ 
;__ 
appaa 
.aa 
Runaa 
(aa 
)aa 	
;aa	 
ë	
ZC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\UserRecipeRating.cs
	namespace 	
Recipe
 
. 
Models 
{ 
public 

class 
UserRecipeRating !
{ 
public 
required 
string 
UserId %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public		 
required		 
int		 
	RecipeeId		 %
{		& '
get		( +
;		+ ,
set		- 0
;		0 1
}		2 3
public 
float 
RecipeRating !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
$num2 3
;3 4
public 
ApplicationUser 
User #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
Recipee 
Recipee 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ö
\C:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\UserFavoriteRecipe.cs
	namespace 	
Recipe
 
. 
Models 
{ 
public 

class 
UserFavoriteRecipe #
{ 
public 
string 
UserId 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
int		 
	RecipeeId		 
{		 
get		 "
;		" #
set		$ '
;		' (
}		) *
public

 
ApplicationUser

 
User

 #
{

$ %
get

& )
;

) *
set

+ .
;

. /
}

0 1
public 
Recipee 
Recipee 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ”
TC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\RecipeType.cs
	namespace 	
Recipe
 
. 
Models 
{ 
public 

class 

RecipeType 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public		 
string		 
?		 
Type		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
}

 
} è
QC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\Recipee.cs
	namespace 	
Recipe
 
. 
Models 
{ 
public 

class 
Recipee 
{		 
public

 
int

 
Id

 
{

 
get

 
;

 
set

  
;

  !
}

" #
public 
string 
? 
Title 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
ShortDescription '
{( )
get* -
;- .
set/ 2
;2 3
}4 5
public 
string 
? 
Description "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
? 
ImageUrl 
{  !
get" %
;% &
set' *
;* +
}, -
public 
ICollection 
< 
Product "
>" #
Products$ ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
string 
? 
Preparation "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
? 

SkillLevel !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
? 
TimeForCooking "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

RecipeType 
Type 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
ApplicationUser 
User #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
ICollection 
< 
UserFavoriteRecipe -
>- .
UserFavorites/ <
{= >
get? B
;B C
setD G
;G H
}I J
public 
double 
Rating 
{ 
get "
;" #
set$ '
;' (
}) *
=+ ,
$num- .
;. /
public 
int 
RatedPeopleCount #
{$ %
get& )
;) *
set+ .
;. /
}0 1
=2 3
$num4 5
;5 6
public 
ICollection 
< 
UserRecipeRating +
>+ ,
UserRatings- 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
=G H
newI L
ListM Q
<Q R
UserRecipeRatingR b
>b c
(c d
)d e
;e f
public 
ICollection 
< 
Comment "
>" #
Comments$ ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
bool 

IsVerified 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
false/ 4
;4 5
} 
} É
QC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\Product.cs
	namespace 	
Recipe
 
. 
Models 
{ 
public 

class 
Product 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public		 
string		 
?		 
ProductName		 "
{		# $
get		% (
;		( )
set		* -
;		- .
}		/ 0
public

 
bool

 

IsVerified

 
{

  
get

! $
;

$ %
set

& )
;

) *
}

+ ,
=

- .
false

/ 4
;

4 5
public 
ICollection 
< 
Recipee "
>" #
?# $
Recipes% ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
} 
} û
UC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\DTO\UserDTO.cs
	namespace 	
Recipe
 
. 
Models 
. 
DTO 
{ 
public 

class 
UserDTO 
{ 
public 
Guid 
Id 
{ 
get 
; 
set !
;! "
}# $
public		 
string		 
?		 
UserName		 
{		  !
get		" %
;		% &
set		' *
;		* +
}		, -
public

 
string

 
?

 
Email

 
{

 
get

 "
;

" #
set

$ '
;

' (
}

( )
} 
} â
`C:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\DTO\UserDescriptionDTO.cs
	namespace 	
Recipe
 
. 
Models 
. 
DTO 
{ 
public 

class 
UserDescriptionDTO #
{ 
public 
string 
Email 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
string		 
UserDescription		 )
{		* +
get		, /
;		/ 0
set		1 4
;		4 5
}		6 7
} 
} ˛
dC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\DTO\UpdateRecipeRequestDTO.cs
	namespace 	
Recipe
 
. 
Models 
. 
DTO 
{ 
public 

class "
UpdateRecipeRequestDTO '
{ 
public 
string 
? 
Title 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
string		 
?		 
ShortDescription		 '
{		( )
get		* -
;		- .
set		/ 2
;		2 3
}		4 5
public

 
string

 
?

 
Description

 "
{

# $
get

% (
;

( )
set

* -
;

- .
}

/ 0
public 
string 
? 
ImageUrl 
{  !
get" %
;% &
set' *
;* +
}, -
public 
List 
< 
int 
> 
Products !
{" #
get$ '
;' (
set) ,
;, -
}. /
=0 1
new2 5
List6 :
<: ;
int; >
>> ?
(? @
)@ A
;A B
public 
string 
? 
Preparation "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
? 

SkillLevel !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
? 
TimeForCooking "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
int 
Type 
{ 
get 
; 
set "
;" #
}$ %
} 
} «
`C:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\DTO\RegisterRequestDTO.cs
	namespace 	
Recipe
 
. 
Models 
. 
DTO 
{ 
public 

class 
RegisterRequestDTO #
{		 
[

 	
	MinLength

	 
(

 
$num

 
,

 
ErrorMessage

 "
=

# $
$str

% N
)

N O
]

O P
[ 	
Required	 
] 
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
[ 	
Required	 
] 
[ 	
	MinLength	 
( 
$num 
, 
ErrorMessage "
=# $
$str% K
)K L
]L M
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
[ 	
Required	 
] 
[ 	
	MinLength	 
( 
$num 
, 
ErrorMessage "
=# $
$str% N
)N O
]O P
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} ˝
[C:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\DTO\RecipeTypeDTO.cs
	namespace 	
Recipe
 
. 
Models 
. 
DTO 
{ 
public 

class 
RecipeTypeDTO 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public		 
string		 
?		 
Type		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
}

 
} ì
]C:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\DTO\RecipeRatingDTO.cs
	namespace 	
Recipe
 
. 
Models 
. 
DTO 
{ 
public 

class 
RecipeRatingDTO  
{ 
public 
string 
UserId 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
int		 
RecipeId		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public

 
float

 
Rating

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
} 
} ˇ
WC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\DTO\RecipeDTO.cs
	namespace 	
Recipe
 
. 
Models 
. 
DTO 
{ 
public 

class 
	RecipeDTO 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public		 
string		 
?		 
Title		 
{		 
get		 "
;		" #
set		$ '
;		' (
}		) *
public

 
string

 
?

 
ShortDescription

 '
{

( )
get

* -
;

- .
set

/ 2
;

2 3
}

4 5
public 
string 
? 
Description "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
? 
ImageUrl 
{  !
get" %
;% &
set' *
;* +
}, -
public 
List 
< 

ProductDTO 
> 
Products  (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
=7 8
new9 <
List= A
<A B

ProductDTOB L
>L M
(M N
)N O
;O P
public 
string 
? 
Preparation "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
string 
? 

SkillLevel !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
? 
TimeForCooking "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 

RecipeType 
Type 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
? !
RecipeCreatorUserName ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
double 
Rating 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
RatedPeopleCount #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} Ô
XC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\DTO\ProductDTO.cs
	namespace 	
Recipe
 
. 
Models 
. 
DTO 
{ 
public 

class 

ProductDTO 
{ 
public 
int 
Id 
{ 
get 
; 
set  
;  !
}" #
public		 
string		 
ProductName		 !
{		" #
get		$ '
;		' (
set		) ,
;		, -
}		. /
}

 
} Ë
^C:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\DTO\ProductCreateDTO.cs
	namespace 	
Recipe
 
. 
Models 
. 
DTO 
{ 
public 
class 
ProductCreateDTO 
{ 
public 
string	 
ProductName 
{ 
get !
;! "
set# &
;& '
}( )
}		 
}

 ˙
^C:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\DTO\LoginResponseDTO.cs
	namespace 	
Recipe
 
. 
Models 
. 
DTO 
{ 
public 

class 
LoginResponseDTO !
{ 
public 
string 
Username 
{  
get! $
;$ %
set& )
;) *
}+ ,
public		 
string		 
Email		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public

 
string

 
Token

 
{

 
get

 !
;

! "
set

# &
;

& '
}

( )
public 
List 
< 
string 
> 
Roles !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
UserId 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ﬂ
]C:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\DTO\LoginRequestDTO.cs
	namespace 	
Recipe
 
. 
Models 
. 
DTO 
{ 
public 

class 
LoginRequestDTO  
{ 
[		 	
	MinLength			 
(		 
$num		 
,		 
ErrorMessage		 "
=		# $
$str		% P
)		P Q
]		R S
public

 
string

 

Identifier

  
{

! "
get

# &
;

& '
set

( +
;

+ ,
}

- .
[ 	
	MinLength	 
( 
$num 
, 
ErrorMessage "
=# $
$str% N
)N O
]O P
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
} 
} Å
]C:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\DTO\CreateRecipeDTO.cs
	namespace 	
Recipe
 
. 
Models 
. 
DTO 
{ 
public 

class 
CreateRecipeDTO  
{ 
public		 
string		 
Title		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public

 
string

 
ShortDescription

 &
{

' (
get

) ,
;

, -
set

. 1
;

1 2
}

3 4
public 
string 
Description !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 
ImageUrl 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
int 
[ 
] 
Products 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 
Preparation !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
string 

SkillLevel  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
int 
TimeForCooking !
{" #
get$ '
;' (
set) ,
;, -
}. /
public 
int 
Type 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
Author 
{ 
get "
;" #
set$ '
;' (
}) *
} 
}  
XC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\DTO\CommentDTO.cs
	namespace 	
Recipe
 
. 
Models 
. 
DTO 
{ 
public 

class 

CommentDTO 
{ 
public 
string 
UserId 
{ 
get "
;" #
set$ '
;' (
}) *
public		 
int		 
RecipeId		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
public

 
string

 
Comment

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
string 

AuthorName  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DateTime 
CreatedDate #
{$ %
get& )
;) *
set+ .
;. /
}0 1
} 
} ¬
_C:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\DTO\ChangePasswordDTO.cs
	namespace 	
Recipe
 
. 
Models 
. 
DTO 
{ 
public 

class 
ChangePasswordDTO "
{ 
[		 	
Required			 
]		 
public

 
string

 
	UserEmail

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
[ 	
Required	 
] 
public 
string 
OldPassword !
{" #
get$ '
;' (
set) ,
;, -
}. /
[ 	
Required	 
] 
public 
string 
NewPassword !
{" #
get$ '
;' (
set) ,
;, -
}. /
} 
} È
QC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\Comment.cs
	namespace 	
Recipe
 
. 
Models 
{ 
public 

class 
Comment 
{ 
public		 
int		 
Id		 
{		 
get		 
;		 
set		  
;		  !
}		" #
public 
string 
Text 
{ 
get  
;  !
set" %
;% &
}' (
public 
DateTime 
PostedAt  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
UserId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
ApplicationUser 
User #
{$ %
get& )
;) *
set+ .
;. /
}0 1
public 
int 
RecipeId 
{ 
get !
;! "
set# &
;& '
}( )
public 
Recipee 
Recipe 
{ 
get  #
;# $
set% (
;( )
}* +
public 
string 

AuthorName  
{! "
get# &
;& '
set( +
;+ ,
}- .
} 
} í
YC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Models\ApplicationUser.cs
	namespace 	
Recipe
 
. 
Models 
{ 
public 

class 
ApplicationUser  
:! "
IdentityUser" .
{ 
internal		 
string		 
UserDescription		 '
;		' (
public 
bool 
? 
IsAdmin 
{ 
get "
;" #
set$ '
;' (
}) *
public 
ICollection 
< 
UserFavoriteRecipe -
>- .
FavoriteRecipes/ >
{? @
getA D
;D E
setF I
;I J
}K L
public 
ICollection 
< 
UserRecipeRating +
>+ ,
RecipeRatings- :
{; <
get= @
;@ A
setB E
;E F
}G H
} 
} ÿ
sC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Migrations\20240505220524_AddIsVerifiedToRecipee.cs
	namespace 	
Recipe
 
. 

Migrations 
{ 
public 

partial 
class "
AddIsVerifiedToRecipee /
:0 1
	Migration2 ;
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
bool' +
>+ ,
(, -
name 
: 
$str "
," #
table 
: 
$str  
,  !
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
false #
)# $
;$ %
migrationBuilder 
. 

UpdateData '
(' (
table 
: 
$str $
,$ %
	keyColumn 
: 
$str 
,  
keyValue 
: 
$str @
,@ A
columns 
: 
new 
[ 
] 
{  
$str! 3
,3 4
$str5 C
,C D
$strE T
}U V
,V W
values 
: 
new 
object "
[" #
]# $
{% &
$str' M
,M N
$str	O •
,
• ¶
$str
ß Õ
}
Œ œ
)
œ –
;
– —
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name   
:   
$str   "
,  " #
table!! 
:!! 
$str!!  
)!!  !
;!!! "
migrationBuilder## 
.## 

UpdateData## '
(##' (
table$$ 
:$$ 
$str$$ $
,$$$ %
	keyColumn%% 
:%% 
$str%% 
,%%  
keyValue&& 
:&& 
$str&& @
,&&@ A
columns'' 
:'' 
new'' 
['' 
]'' 
{''  
$str''! 3
,''3 4
$str''5 C
,''C D
$str''E T
}''U V
,''V W
values(( 
:(( 
new(( 
object(( "
[((" #
]((# $
{((% &
$str((' M
,((M N
$str	((O •
,
((• ¶
$str
((ß Õ
}
((Œ œ
)
((œ –
;
((– —
})) 	
}** 
}++ «
jC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Migrations\20240421182110_komentarai_v2.cs
	namespace 	
Recipe
 
. 

Migrations 
{ 
public 

partial 
class 
komentarai_v2 &
:' (
	Migration) 2
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str "
," #
table 
: 
$str !
,! "
type 
: 
$str %
,% &
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
migrationBuilder 
. 

UpdateData '
(' (
table 
: 
$str $
,$ %
	keyColumn 
: 
$str 
,  
keyValue 
: 
$str @
,@ A
columns 
: 
new 
[ 
] 
{  
$str! 3
,3 4
$str5 C
,C D
$strE T
}U V
,V W
values 
: 
new 
object "
[" #
]# $
{% &
$str' M
,M N
$str	O •
,
• ¶
$str
ß Õ
}
Œ œ
)
œ –
;
– —
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name   
:   
$str   "
,  " #
table!! 
:!! 
$str!! !
)!!! "
;!!" #
migrationBuilder## 
.## 

UpdateData## '
(##' (
table$$ 
:$$ 
$str$$ $
,$$$ %
	keyColumn%% 
:%% 
$str%% 
,%%  
keyValue&& 
:&& 
$str&& @
,&&@ A
columns'' 
:'' 
new'' 
['' 
]'' 
{''  
$str''! 3
,''3 4
$str''5 C
,''C D
$str''E T
}''U V
,''V W
values(( 
:(( 
new(( 
object(( "
[((" #
]((# $
{((% &
$str((' M
,((M N
$str	((O •
,
((• ¶
$str
((ß Õ
}
((Œ œ
)
((œ –
;
((– —
})) 	
}** 
}++ ú2
gC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Migrations\20240421172137_komentarai.cs
	namespace 	
Recipe
 
. 

Migrations 
{ 
public		 

partial		 
class		 

komentarai		 #
:		$ %
	Migration		& /
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str  
,  !
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
int& )
>) *
(* +
type+ /
:/ 0
$str1 6
,6 7
nullable8 @
:@ A
falseB G
)G H
. 

Annotation #
(# $
$str$ 8
,8 9
$str: @
)@ A
,A B
Text 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
falseQ V
)V W
,W X
PostedAt 
= 
table $
.$ %
Column% +
<+ ,
DateTime, 4
>4 5
(5 6
type6 :
:: ;
$str< G
,G H
nullableI Q
:Q R
falseS X
)X Y
,Y Z
UserId 
= 
table "
." #
Column# )
<) *
string* 0
>0 1
(1 2
type2 6
:6 7
$str8 G
,G H
nullableI Q
:Q R
falseS X
)X Y
,Y Z
RecipeId 
= 
table $
.$ %
Column% +
<+ ,
int, /
>/ 0
(0 1
type1 5
:5 6
$str7 <
,< =
nullable> F
:F G
falseH M
)M N
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 2
,2 3
x4 5
=>6 8
x9 :
.: ;
Id; =
)= >
;> ?
table 
. 

ForeignKey $
($ %
name 
: 
$str >
,> ?
column 
: 
x  !
=>" $
x% &
.& '
UserId' -
,- .
principalTable &
:& '
$str( 5
,5 6
principalColumn   '
:  ' (
$str  ) -
,  - .
onDelete!!  
:!!  !
ReferentialAction!!" 3
.!!3 4
Cascade!!4 ;
)!!; <
;!!< =
table"" 
."" 

ForeignKey"" $
(""$ %
name## 
:## 
$str## <
,##< =
column$$ 
:$$ 
x$$  !
=>$$" $
x$$% &
.$$& '
RecipeId$$' /
,$$/ 0
principalTable%% &
:%%& '
$str%%( 1
,%%1 2
principalColumn&& '
:&&' (
$str&&) -
,&&- .
onDelete''  
:''  !
ReferentialAction''" 3
.''3 4
Cascade''4 ;
)''; <
;''< =
}(( 
)(( 
;(( 
migrationBuilder** 
.** 

UpdateData** '
(**' (
table++ 
:++ 
$str++ $
,++$ %
	keyColumn,, 
:,, 
$str,, 
,,,  
keyValue-- 
:-- 
$str-- @
,--@ A
columns.. 
:.. 
new.. 
[.. 
].. 
{..  
$str..! 3
,..3 4
$str..5 C
,..C D
$str..E T
}..U V
,..V W
values// 
:// 
new// 
object// "
[//" #
]//# $
{//% &
$str//' M
,//M N
$str	//O •
,
//• ¶
$str
//ß Õ
}
//Œ œ
)
//œ –
;
//– —
migrationBuilder11 
.11 
CreateIndex11 (
(11( )
name22 
:22 
$str22 ,
,22, -
table33 
:33 
$str33 !
,33! "
column44 
:44 
$str44 "
)44" #
;44# $
migrationBuilder66 
.66 
CreateIndex66 (
(66( )
name77 
:77 
$str77 *
,77* +
table88 
:88 
$str88 !
,88! "
column99 
:99 
$str99  
)99  !
;99! "
}:: 	
	protected== 
override== 
void== 
Down==  $
(==$ %
MigrationBuilder==% 5
migrationBuilder==6 F
)==F G
{>> 	
migrationBuilder?? 
.?? 
	DropTable?? &
(??& '
name@@ 
:@@ 
$str@@  
)@@  !
;@@! "
migrationBuilderBB 
.BB 

UpdateDataBB '
(BB' (
tableCC 
:CC 
$strCC $
,CC$ %
	keyColumnDD 
:DD 
$strDD 
,DD  
keyValueEE 
:EE 
$strEE @
,EE@ A
columnsFF 
:FF 
newFF 
[FF 
]FF 
{FF  
$strFF! 3
,FF3 4
$strFF5 C
,FFC D
$strFFE T
}FFU V
,FFV W
valuesGG 
:GG 
newGG 
objectGG "
[GG" #
]GG# $
{GG% &
$strGG' M
,GGM N
$str	GGO •
,
GG• ¶
$str
GGß Õ
}
GGŒ œ
)
GGœ –
;
GG– —
}HH 	
}II 
}JJ Â
yC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Migrations\20240420192139_verify attribute for product.cs
	namespace 	
Recipe
 
. 

Migrations 
{ 
public 

partial 
class %
verifyattributeforproduct 2
:3 4
	Migration5 >
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
bool' +
>+ ,
(, -
name 
: 
$str "
," #
table 
: 
$str !
,! "
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
false #
)# $
;$ %
migrationBuilder 
. 

UpdateData '
(' (
table 
: 
$str !
,! "
	keyColumn 
: 
$str 
,  
keyValue 
: 
$num 
, 
column 
: 
$str $
,$ %
value 
: 
false 
) 
; 
migrationBuilder 
. 

UpdateData '
(' (
table 
: 
$str !
,! "
	keyColumn 
: 
$str 
,  
keyValue 
: 
$num 
, 
column   
:   
$str   $
,  $ %
value!! 
:!! 
false!! 
)!! 
;!! 
}$$ 	
	protected'' 
override'' 
void'' 
Down''  $
(''$ %
MigrationBuilder''% 5
migrationBuilder''6 F
)''F G
{(( 	
migrationBuilder** 
.** 

DropColumn** '
(**' (
name++ 
:++ 
$str++ "
,++" #
table,, 
:,, 
$str,, !
),,! "
;,," #
}-- 	
}.. 
}// Â(
jC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Migrations\20240406192428_UserFavorites.cs
	namespace 	
Recipe
 
. 

Migrations 
{ 
public 

partial 
class 
UserFavorites &
:' (
	Migration) 2
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str +
,+ ,
columns 
: 
table 
=> !
new" %
{ 
UserId 
= 
table "
." #
Column# )
<) *
string* 0
>0 1
(1 2
type2 6
:6 7
$str8 G
,G H
nullableI Q
:Q R
falseS X
)X Y
,Y Z
	RecipeeId 
= 
table  %
.% &
Column& ,
<, -
int- 0
>0 1
(1 2
type2 6
:6 7
$str8 =
,= >
nullable? G
:G H
falseI N
)N O
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% =
,= >
x? @
=>A C
newD G
{H I
xJ K
.K L
UserIdL R
,R S
xT U
.U V
	RecipeeIdV _
}` a
)a b
;b c
table 
. 

ForeignKey $
($ %
name 
: 
$str I
,I J
column 
: 
x  !
=>" $
x% &
.& '
UserId' -
,- .
principalTable &
:& '
$str( 5
,5 6
principalColumn '
:' (
$str) -
,- .
onDelete  
:  !
ReferentialAction" 3
.3 4
Cascade4 ;
); <
;< =
table 
. 

ForeignKey $
($ %
name 
: 
$str H
,H I
column 
: 
x  !
=>" $
x% &
.& '
	RecipeeId' 0
,0 1
principalTable   &
:  & '
$str  ( 1
,  1 2
principalColumn!! '
:!!' (
$str!!) -
,!!- .
onDelete""  
:""  !
ReferentialAction""" 3
.""3 4
Cascade""4 ;
)""; <
;""< =
}## 
)## 
;## 
migrationBuilder%% 
.%% 

UpdateData%% '
(%%' (
table&& 
:&& 
$str&& $
,&&$ %
	keyColumn'' 
:'' 
$str'' 
,''  
keyValue(( 
:(( 
$str(( @
,((@ A
columns)) 
:)) 
new)) 
[)) 
])) 
{))  
$str))! 3
,))3 4
$str))5 C
,))C D
$str))E T
}))U V
,))V W
values** 
:** 
new** 
object** "
[**" #
]**# $
{**% &
$str**' M
,**M N
$str	**O •
,
**• ¶
$str
**ß Õ
}
**Œ œ
)
**œ –
;
**– —
migrationBuilder,, 
.,, 
CreateIndex,, (
(,,( )
name-- 
:-- 
$str-- 8
,--8 9
table.. 
:.. 
$str.. ,
,.., -
column// 
:// 
$str// #
)//# $
;//$ %
}00 	
	protected33 
override33 
void33 
Down33  $
(33$ %
MigrationBuilder33% 5
migrationBuilder336 F
)33F G
{44 	
migrationBuilder55 
.55 
	DropTable55 &
(55& '
name66 
:66 
$str66 +
)66+ ,
;66, -
migrationBuilder88 
.88 

UpdateData88 '
(88' (
table99 
:99 
$str99 $
,99$ %
	keyColumn:: 
::: 
$str:: 
,::  
keyValue;; 
:;; 
$str;; @
,;;@ A
columns<< 
:<< 
new<< 
[<< 
]<< 
{<<  
$str<<! 3
,<<3 4
$str<<5 C
,<<C D
$str<<E T
}<<U V
,<<V W
values== 
:== 
new== 
object== "
[==" #
]==# $
{==% &
$str==' M
,==M N
$str	==O •
,
==• ¶
$str
==ß Õ
}
==Œ œ
)
==œ –
;
==– —
}>> 	
}?? 
}@@ ¨‘
aC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Migrations\20240402091857_init.cs
	namespace 	
Recipe
 
. 

Migrations 
{		 
public 

partial 
class 
init 
: 
	Migration  )
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
string& ,
>, -
(- .
type. 2
:2 3
$str4 C
,C D
nullableE M
:M N
falseO T
)T U
,U V
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
	maxLengthG P
:P Q
$numR U
,U V
nullableW _
:_ `
truea e
)e f
,f g
NormalizedName "
=# $
table% *
.* +
Column+ 1
<1 2
string2 8
>8 9
(9 :
type: >
:> ?
$str@ O
,O P
	maxLengthQ Z
:Z [
$num\ _
,_ `
nullablea i
:i j
truek o
)o p
,p q
ConcurrencyStamp $
=% &
table' ,
., -
Column- 3
<3 4
string4 :
>: ;
(; <
type< @
:@ A
$strB Q
,Q R
nullableS [
:[ \
true] a
)a b
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 5
,5 6
x7 8
=>9 ;
x< =
.= >
Id> @
)@ A
;A B
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str #
,# $
columns   
:   
table   
=>   !
new  " %
{!! 
Id"" 
="" 
table"" 
."" 
Column"" %
<""% &
string""& ,
>"", -
(""- .
type"". 2
:""2 3
$str""4 C
,""C D
nullable""E M
:""M N
false""O T
)""T U
,""U V
IsAdmin## 
=## 
table## #
.### $
Column##$ *
<##* +
bool##+ /
>##/ 0
(##0 1
type##1 5
:##5 6
$str##7 <
,##< =
nullable##> F
:##F G
true##H L
)##L M
,##M N
UserName$$ 
=$$ 
table$$ $
.$$$ %
Column$$% +
<$$+ ,
string$$, 2
>$$2 3
($$3 4
type$$4 8
:$$8 9
$str$$: I
,$$I J
	maxLength$$K T
:$$T U
$num$$V Y
,$$Y Z
nullable$$[ c
:$$c d
true$$e i
)$$i j
,$$j k
NormalizedUserName%% &
=%%' (
table%%) .
.%%. /
Column%%/ 5
<%%5 6
string%%6 <
>%%< =
(%%= >
type%%> B
:%%B C
$str%%D S
,%%S T
	maxLength%%U ^
:%%^ _
$num%%` c
,%%c d
nullable%%e m
:%%m n
true%%o s
)%%s t
,%%t u
Email&& 
=&& 
table&& !
.&&! "
Column&&" (
<&&( )
string&&) /
>&&/ 0
(&&0 1
type&&1 5
:&&5 6
$str&&7 F
,&&F G
	maxLength&&H Q
:&&Q R
$num&&S V
,&&V W
nullable&&X `
:&&` a
true&&b f
)&&f g
,&&g h
NormalizedEmail'' #
=''$ %
table''& +
.''+ ,
Column'', 2
<''2 3
string''3 9
>''9 :
('': ;
type''; ?
:''? @
$str''A P
,''P Q
	maxLength''R [
:''[ \
$num''] `
,''` a
nullable''b j
:''j k
true''l p
)''p q
,''q r
EmailConfirmed(( "
=((# $
table((% *
.((* +
Column((+ 1
<((1 2
bool((2 6
>((6 7
(((7 8
type((8 <
:((< =
$str((> C
,((C D
nullable((E M
:((M N
false((O T
)((T U
,((U V
PasswordHash))  
=))! "
table))# (
.))( )
Column))) /
<))/ 0
string))0 6
>))6 7
())7 8
type))8 <
:))< =
$str))> M
,))M N
nullable))O W
:))W X
true))Y ]
)))] ^
,))^ _
SecurityStamp** !
=**" #
table**$ )
.**) *
Column*** 0
<**0 1
string**1 7
>**7 8
(**8 9
type**9 =
:**= >
$str**? N
,**N O
nullable**P X
:**X Y
true**Z ^
)**^ _
,**_ `
ConcurrencyStamp++ $
=++% &
table++' ,
.++, -
Column++- 3
<++3 4
string++4 :
>++: ;
(++; <
type++< @
:++@ A
$str++B Q
,++Q R
nullable++S [
:++[ \
true++] a
)++a b
,++b c
PhoneNumber,, 
=,,  !
table,," '
.,,' (
Column,,( .
<,,. /
string,,/ 5
>,,5 6
(,,6 7
type,,7 ;
:,,; <
$str,,= L
,,,L M
nullable,,N V
:,,V W
true,,X \
),,\ ]
,,,] ^ 
PhoneNumberConfirmed-- (
=--) *
table--+ 0
.--0 1
Column--1 7
<--7 8
bool--8 <
>--< =
(--= >
type--> B
:--B C
$str--D I
,--I J
nullable--K S
:--S T
false--U Z
)--Z [
,--[ \
TwoFactorEnabled.. $
=..% &
table..' ,
..., -
Column..- 3
<..3 4
bool..4 8
>..8 9
(..9 :
type..: >
:..> ?
$str..@ E
,..E F
nullable..G O
:..O P
false..Q V
)..V W
,..W X

LockoutEnd// 
=//  
table//! &
.//& '
Column//' -
<//- .
DateTimeOffset//. <
>//< =
(//= >
type//> B
://B C
$str//D T
,//T U
nullable//V ^
://^ _
true//` d
)//d e
,//e f
LockoutEnabled00 "
=00# $
table00% *
.00* +
Column00+ 1
<001 2
bool002 6
>006 7
(007 8
type008 <
:00< =
$str00> C
,00C D
nullable00E M
:00M N
false00O T
)00T U
,00U V
AccessFailedCount11 %
=11& '
table11( -
.11- .
Column11. 4
<114 5
int115 8
>118 9
(119 :
type11: >
:11> ?
$str11@ E
,11E F
nullable11G O
:11O P
false11Q V
)11V W
}22 
,22 
constraints33 
:33 
table33 "
=>33# %
{44 
table55 
.55 

PrimaryKey55 $
(55$ %
$str55% 5
,555 6
x557 8
=>559 ;
x55< =
.55= >
Id55> @
)55@ A
;55A B
}66 
)66 
;66 
migrationBuilder88 
.88 
CreateTable88 (
(88( )
name99 
:99 
$str99  
,99  !
columns:: 
::: 
table:: 
=>:: !
new::" %
{;; 
Id<< 
=<< 
table<< 
.<< 
Column<< %
<<<% &
int<<& )
><<) *
(<<* +
type<<+ /
:<</ 0
$str<<1 6
,<<6 7
nullable<<8 @
:<<@ A
false<<B G
)<<G H
.== 

Annotation== #
(==# $
$str==$ 8
,==8 9
$str==: @
)==@ A
,==A B
ProductName>> 
=>>  !
table>>" '
.>>' (
Column>>( .
<>>. /
string>>/ 5
>>>5 6
(>>6 7
type>>7 ;
:>>; <
$str>>= L
,>>L M
nullable>>N V
:>>V W
true>>X \
)>>\ ]
}?? 
,?? 
constraints@@ 
:@@ 
table@@ "
=>@@# %
{AA 
tableBB 
.BB 

PrimaryKeyBB $
(BB$ %
$strBB% 2
,BB2 3
xBB4 5
=>BB6 8
xBB9 :
.BB: ;
IdBB; =
)BB= >
;BB> ?
}CC 
)CC 
;CC 
migrationBuilderEE 
.EE 
CreateTableEE (
(EE( )
nameFF 
:FF 
$strFF #
,FF# $
columnsGG 
:GG 
tableGG 
=>GG !
newGG" %
{HH 
IdII 
=II 
tableII 
.II 
ColumnII %
<II% &
intII& )
>II) *
(II* +
typeII+ /
:II/ 0
$strII1 6
,II6 7
nullableII8 @
:II@ A
falseIIB G
)IIG H
.JJ 

AnnotationJJ #
(JJ# $
$strJJ$ 8
,JJ8 9
$strJJ: @
)JJ@ A
,JJA B
TypeKK 
=KK 
tableKK  
.KK  !
ColumnKK! '
<KK' (
stringKK( .
>KK. /
(KK/ 0
typeKK0 4
:KK4 5
$strKK6 E
,KKE F
nullableKKG O
:KKO P
trueKKQ U
)KKU V
}LL 
,LL 
constraintsMM 
:MM 
tableMM "
=>MM# %
{NN 
tableOO 
.OO 

PrimaryKeyOO $
(OO$ %
$strOO% 5
,OO5 6
xOO7 8
=>OO9 ;
xOO< =
.OO= >
IdOO> @
)OO@ A
;OOA B
}PP 
)PP 
;PP 
migrationBuilderRR 
.RR 
CreateTableRR (
(RR( )
nameSS 
:SS 
$strSS (
,SS( )
columnsTT 
:TT 
tableTT 
=>TT !
newTT" %
{UU 
IdVV 
=VV 
tableVV 
.VV 
ColumnVV %
<VV% &
intVV& )
>VV) *
(VV* +
typeVV+ /
:VV/ 0
$strVV1 6
,VV6 7
nullableVV8 @
:VV@ A
falseVVB G
)VVG H
.WW 

AnnotationWW #
(WW# $
$strWW$ 8
,WW8 9
$strWW: @
)WW@ A
,WWA B
RoleIdXX 
=XX 
tableXX "
.XX" #
ColumnXX# )
<XX) *
stringXX* 0
>XX0 1
(XX1 2
typeXX2 6
:XX6 7
$strXX8 G
,XXG H
nullableXXI Q
:XXQ R
falseXXS X
)XXX Y
,XXY Z
	ClaimTypeYY 
=YY 
tableYY  %
.YY% &
ColumnYY& ,
<YY, -
stringYY- 3
>YY3 4
(YY4 5
typeYY5 9
:YY9 :
$strYY; J
,YYJ K
nullableYYL T
:YYT U
trueYYV Z
)YYZ [
,YY[ \

ClaimValueZZ 
=ZZ  
tableZZ! &
.ZZ& '
ColumnZZ' -
<ZZ- .
stringZZ. 4
>ZZ4 5
(ZZ5 6
typeZZ6 :
:ZZ: ;
$strZZ< K
,ZZK L
nullableZZM U
:ZZU V
trueZZW [
)ZZ[ \
}[[ 
,[[ 
constraints\\ 
:\\ 
table\\ "
=>\\# %
{]] 
table^^ 
.^^ 

PrimaryKey^^ $
(^^$ %
$str^^% :
,^^: ;
x^^< =
=>^^> @
x^^A B
.^^B C
Id^^C E
)^^E F
;^^F G
table__ 
.__ 

ForeignKey__ $
(__$ %
name`` 
:`` 
$str`` F
,``F G
columnaa 
:aa 
xaa  !
=>aa" $
xaa% &
.aa& '
RoleIdaa' -
,aa- .
principalTablebb &
:bb& '
$strbb( 5
,bb5 6
principalColumncc '
:cc' (
$strcc) -
,cc- .
onDeletedd  
:dd  !
ReferentialActiondd" 3
.dd3 4
Cascadedd4 ;
)dd; <
;dd< =
}ee 
)ee 
;ee 
migrationBuildergg 
.gg 
CreateTablegg (
(gg( )
namehh 
:hh 
$strhh (
,hh( )
columnsii 
:ii 
tableii 
=>ii !
newii" %
{jj 
Idkk 
=kk 
tablekk 
.kk 
Columnkk %
<kk% &
intkk& )
>kk) *
(kk* +
typekk+ /
:kk/ 0
$strkk1 6
,kk6 7
nullablekk8 @
:kk@ A
falsekkB G
)kkG H
.ll 

Annotationll #
(ll# $
$strll$ 8
,ll8 9
$strll: @
)ll@ A
,llA B
UserIdmm 
=mm 
tablemm "
.mm" #
Columnmm# )
<mm) *
stringmm* 0
>mm0 1
(mm1 2
typemm2 6
:mm6 7
$strmm8 G
,mmG H
nullablemmI Q
:mmQ R
falsemmS X
)mmX Y
,mmY Z
	ClaimTypenn 
=nn 
tablenn  %
.nn% &
Columnnn& ,
<nn, -
stringnn- 3
>nn3 4
(nn4 5
typenn5 9
:nn9 :
$strnn; J
,nnJ K
nullablennL T
:nnT U
truennV Z
)nnZ [
,nn[ \

ClaimValueoo 
=oo  
tableoo! &
.oo& '
Columnoo' -
<oo- .
stringoo. 4
>oo4 5
(oo5 6
typeoo6 :
:oo: ;
$stroo< K
,ooK L
nullableooM U
:ooU V
trueooW [
)oo[ \
}pp 
,pp 
constraintsqq 
:qq 
tableqq "
=>qq# %
{rr 
tabless 
.ss 

PrimaryKeyss $
(ss$ %
$strss% :
,ss: ;
xss< =
=>ss> @
xssA B
.ssB C
IdssC E
)ssE F
;ssF G
tablett 
.tt 

ForeignKeytt $
(tt$ %
nameuu 
:uu 
$struu F
,uuF G
columnvv 
:vv 
xvv  !
=>vv" $
xvv% &
.vv& '
UserIdvv' -
,vv- .
principalTableww &
:ww& '
$strww( 5
,ww5 6
principalColumnxx '
:xx' (
$strxx) -
,xx- .
onDeleteyy  
:yy  !
ReferentialActionyy" 3
.yy3 4
Cascadeyy4 ;
)yy; <
;yy< =
}zz 
)zz 
;zz 
migrationBuilder|| 
.|| 
CreateTable|| (
(||( )
name}} 
:}} 
$str}} (
,}}( )
columns~~ 
:~~ 
table~~ 
=>~~ !
new~~" %
{ 
LoginProvider
ÄÄ !
=
ÄÄ" #
table
ÄÄ$ )
.
ÄÄ) *
Column
ÄÄ* 0
<
ÄÄ0 1
string
ÄÄ1 7
>
ÄÄ7 8
(
ÄÄ8 9
type
ÄÄ9 =
:
ÄÄ= >
$str
ÄÄ? N
,
ÄÄN O
nullable
ÄÄP X
:
ÄÄX Y
false
ÄÄZ _
)
ÄÄ_ `
,
ÄÄ` a
ProviderKey
ÅÅ 
=
ÅÅ  !
table
ÅÅ" '
.
ÅÅ' (
Column
ÅÅ( .
<
ÅÅ. /
string
ÅÅ/ 5
>
ÅÅ5 6
(
ÅÅ6 7
type
ÅÅ7 ;
:
ÅÅ; <
$str
ÅÅ= L
,
ÅÅL M
nullable
ÅÅN V
:
ÅÅV W
false
ÅÅX ]
)
ÅÅ] ^
,
ÅÅ^ _!
ProviderDisplayName
ÇÇ '
=
ÇÇ( )
table
ÇÇ* /
.
ÇÇ/ 0
Column
ÇÇ0 6
<
ÇÇ6 7
string
ÇÇ7 =
>
ÇÇ= >
(
ÇÇ> ?
type
ÇÇ? C
:
ÇÇC D
$str
ÇÇE T
,
ÇÇT U
nullable
ÇÇV ^
:
ÇÇ^ _
true
ÇÇ` d
)
ÇÇd e
,
ÇÇe f
UserId
ÉÉ 
=
ÉÉ 
table
ÉÉ "
.
ÉÉ" #
Column
ÉÉ# )
<
ÉÉ) *
string
ÉÉ* 0
>
ÉÉ0 1
(
ÉÉ1 2
type
ÉÉ2 6
:
ÉÉ6 7
$str
ÉÉ8 G
,
ÉÉG H
nullable
ÉÉI Q
:
ÉÉQ R
false
ÉÉS X
)
ÉÉX Y
}
ÑÑ 
,
ÑÑ 
constraints
ÖÖ 
:
ÖÖ 
table
ÖÖ "
=>
ÖÖ# %
{
ÜÜ 
table
áá 
.
áá 

PrimaryKey
áá $
(
áá$ %
$str
áá% :
,
áá: ;
x
áá< =
=>
áá> @
new
ááA D
{
ááE F
x
ááG H
.
ááH I
LoginProvider
ááI V
,
ááV W
x
ááX Y
.
ááY Z
ProviderKey
ááZ e
}
ááf g
)
áág h
;
ááh i
table
àà 
.
àà 

ForeignKey
àà $
(
àà$ %
name
ââ 
:
ââ 
$str
ââ F
,
ââF G
column
ää 
:
ää 
x
ää  !
=>
ää" $
x
ää% &
.
ää& '
UserId
ää' -
,
ää- .
principalTable
ãã &
:
ãã& '
$str
ãã( 5
,
ãã5 6
principalColumn
åå '
:
åå' (
$str
åå) -
,
åå- .
onDelete
çç  
:
çç  !
ReferentialAction
çç" 3
.
çç3 4
Cascade
çç4 ;
)
çç; <
;
çç< =
}
éé 
)
éé 
;
éé 
migrationBuilder
êê 
.
êê 
CreateTable
êê (
(
êê( )
name
ëë 
:
ëë 
$str
ëë '
,
ëë' (
columns
íí 
:
íí 
table
íí 
=>
íí !
new
íí" %
{
ìì 
UserId
îî 
=
îî 
table
îî "
.
îî" #
Column
îî# )
<
îî) *
string
îî* 0
>
îî0 1
(
îî1 2
type
îî2 6
:
îî6 7
$str
îî8 G
,
îîG H
nullable
îîI Q
:
îîQ R
false
îîS X
)
îîX Y
,
îîY Z
RoleId
ïï 
=
ïï 
table
ïï "
.
ïï" #
Column
ïï# )
<
ïï) *
string
ïï* 0
>
ïï0 1
(
ïï1 2
type
ïï2 6
:
ïï6 7
$str
ïï8 G
,
ïïG H
nullable
ïïI Q
:
ïïQ R
false
ïïS X
)
ïïX Y
}
ññ 
,
ññ 
constraints
óó 
:
óó 
table
óó "
=>
óó# %
{
òò 
table
ôô 
.
ôô 

PrimaryKey
ôô $
(
ôô$ %
$str
ôô% 9
,
ôô9 :
x
ôô; <
=>
ôô= ?
new
ôô@ C
{
ôôD E
x
ôôF G
.
ôôG H
UserId
ôôH N
,
ôôN O
x
ôôP Q
.
ôôQ R
RoleId
ôôR X
}
ôôY Z
)
ôôZ [
;
ôô[ \
table
öö 
.
öö 

ForeignKey
öö $
(
öö$ %
name
õõ 
:
õõ 
$str
õõ E
,
õõE F
column
úú 
:
úú 
x
úú  !
=>
úú" $
x
úú% &
.
úú& '
RoleId
úú' -
,
úú- .
principalTable
ùù &
:
ùù& '
$str
ùù( 5
,
ùù5 6
principalColumn
ûû '
:
ûû' (
$str
ûû) -
,
ûû- .
onDelete
üü  
:
üü  !
ReferentialAction
üü" 3
.
üü3 4
Cascade
üü4 ;
)
üü; <
;
üü< =
table
†† 
.
†† 

ForeignKey
†† $
(
††$ %
name
°° 
:
°° 
$str
°° E
,
°°E F
column
¢¢ 
:
¢¢ 
x
¢¢  !
=>
¢¢" $
x
¢¢% &
.
¢¢& '
UserId
¢¢' -
,
¢¢- .
principalTable
££ &
:
££& '
$str
££( 5
,
££5 6
principalColumn
§§ '
:
§§' (
$str
§§) -
,
§§- .
onDelete
••  
:
••  !
ReferentialAction
••" 3
.
••3 4
Cascade
••4 ;
)
••; <
;
••< =
}
¶¶ 
)
¶¶ 
;
¶¶ 
migrationBuilder
®® 
.
®® 
CreateTable
®® (
(
®®( )
name
©© 
:
©© 
$str
©© (
,
©©( )
columns
™™ 
:
™™ 
table
™™ 
=>
™™ !
new
™™" %
{
´´ 
UserId
¨¨ 
=
¨¨ 
table
¨¨ "
.
¨¨" #
Column
¨¨# )
<
¨¨) *
string
¨¨* 0
>
¨¨0 1
(
¨¨1 2
type
¨¨2 6
:
¨¨6 7
$str
¨¨8 G
,
¨¨G H
nullable
¨¨I Q
:
¨¨Q R
false
¨¨S X
)
¨¨X Y
,
¨¨Y Z
LoginProvider
≠≠ !
=
≠≠" #
table
≠≠$ )
.
≠≠) *
Column
≠≠* 0
<
≠≠0 1
string
≠≠1 7
>
≠≠7 8
(
≠≠8 9
type
≠≠9 =
:
≠≠= >
$str
≠≠? N
,
≠≠N O
nullable
≠≠P X
:
≠≠X Y
false
≠≠Z _
)
≠≠_ `
,
≠≠` a
Name
ÆÆ 
=
ÆÆ 
table
ÆÆ  
.
ÆÆ  !
Column
ÆÆ! '
<
ÆÆ' (
string
ÆÆ( .
>
ÆÆ. /
(
ÆÆ/ 0
type
ÆÆ0 4
:
ÆÆ4 5
$str
ÆÆ6 E
,
ÆÆE F
nullable
ÆÆG O
:
ÆÆO P
false
ÆÆQ V
)
ÆÆV W
,
ÆÆW X
Value
ØØ 
=
ØØ 
table
ØØ !
.
ØØ! "
Column
ØØ" (
<
ØØ( )
string
ØØ) /
>
ØØ/ 0
(
ØØ0 1
type
ØØ1 5
:
ØØ5 6
$str
ØØ7 F
,
ØØF G
nullable
ØØH P
:
ØØP Q
true
ØØR V
)
ØØV W
}
∞∞ 
,
∞∞ 
constraints
±± 
:
±± 
table
±± "
=>
±±# %
{
≤≤ 
table
≥≥ 
.
≥≥ 

PrimaryKey
≥≥ $
(
≥≥$ %
$str
≥≥% :
,
≥≥: ;
x
≥≥< =
=>
≥≥> @
new
≥≥A D
{
≥≥E F
x
≥≥G H
.
≥≥H I
UserId
≥≥I O
,
≥≥O P
x
≥≥Q R
.
≥≥R S
LoginProvider
≥≥S `
,
≥≥` a
x
≥≥b c
.
≥≥c d
Name
≥≥d h
}
≥≥i j
)
≥≥j k
;
≥≥k l
table
¥¥ 
.
¥¥ 

ForeignKey
¥¥ $
(
¥¥$ %
name
µµ 
:
µµ 
$str
µµ F
,
µµF G
column
∂∂ 
:
∂∂ 
x
∂∂  !
=>
∂∂" $
x
∂∂% &
.
∂∂& '
UserId
∂∂' -
,
∂∂- .
principalTable
∑∑ &
:
∑∑& '
$str
∑∑( 5
,
∑∑5 6
principalColumn
∏∏ '
:
∏∏' (
$str
∏∏) -
,
∏∏- .
onDelete
ππ  
:
ππ  !
ReferentialAction
ππ" 3
.
ππ3 4
Cascade
ππ4 ;
)
ππ; <
;
ππ< =
}
∫∫ 
)
∫∫ 
;
∫∫ 
migrationBuilder
ºº 
.
ºº 
CreateTable
ºº (
(
ºº( )
name
ΩΩ 
:
ΩΩ 
$str
ΩΩ 
,
ΩΩ  
columns
ææ 
:
ææ 
table
ææ 
=>
ææ !
new
ææ" %
{
øø 
Id
¿¿ 
=
¿¿ 
table
¿¿ 
.
¿¿ 
Column
¿¿ %
<
¿¿% &
int
¿¿& )
>
¿¿) *
(
¿¿* +
type
¿¿+ /
:
¿¿/ 0
$str
¿¿1 6
,
¿¿6 7
nullable
¿¿8 @
:
¿¿@ A
false
¿¿B G
)
¿¿G H
.
¡¡ 

Annotation
¡¡ #
(
¡¡# $
$str
¡¡$ 8
,
¡¡8 9
$str
¡¡: @
)
¡¡@ A
,
¡¡A B
Title
¬¬ 
=
¬¬ 
table
¬¬ !
.
¬¬! "
Column
¬¬" (
<
¬¬( )
string
¬¬) /
>
¬¬/ 0
(
¬¬0 1
type
¬¬1 5
:
¬¬5 6
$str
¬¬7 F
,
¬¬F G
nullable
¬¬H P
:
¬¬P Q
true
¬¬R V
)
¬¬V W
,
¬¬W X
ShortDescription
√√ $
=
√√% &
table
√√' ,
.
√√, -
Column
√√- 3
<
√√3 4
string
√√4 :
>
√√: ;
(
√√; <
type
√√< @
:
√√@ A
$str
√√B Q
,
√√Q R
nullable
√√S [
:
√√[ \
true
√√] a
)
√√a b
,
√√b c
Description
ƒƒ 
=
ƒƒ  !
table
ƒƒ" '
.
ƒƒ' (
Column
ƒƒ( .
<
ƒƒ. /
string
ƒƒ/ 5
>
ƒƒ5 6
(
ƒƒ6 7
type
ƒƒ7 ;
:
ƒƒ; <
$str
ƒƒ= L
,
ƒƒL M
nullable
ƒƒN V
:
ƒƒV W
true
ƒƒX \
)
ƒƒ\ ]
,
ƒƒ] ^
ImageUrl
≈≈ 
=
≈≈ 
table
≈≈ $
.
≈≈$ %
Column
≈≈% +
<
≈≈+ ,
string
≈≈, 2
>
≈≈2 3
(
≈≈3 4
type
≈≈4 8
:
≈≈8 9
$str
≈≈: I
,
≈≈I J
nullable
≈≈K S
:
≈≈S T
true
≈≈U Y
)
≈≈Y Z
,
≈≈Z [
Preparation
∆∆ 
=
∆∆  !
table
∆∆" '
.
∆∆' (
Column
∆∆( .
<
∆∆. /
string
∆∆/ 5
>
∆∆5 6
(
∆∆6 7
type
∆∆7 ;
:
∆∆; <
$str
∆∆= L
,
∆∆L M
nullable
∆∆N V
:
∆∆V W
true
∆∆X \
)
∆∆\ ]
,
∆∆] ^

SkillLevel
«« 
=
««  
table
««! &
.
««& '
Column
««' -
<
««- .
string
««. 4
>
««4 5
(
««5 6
type
««6 :
:
««: ;
$str
««< K
,
««K L
nullable
««M U
:
««U V
true
««W [
)
««[ \
,
««\ ]
TimeForCooking
»» "
=
»»# $
table
»»% *
.
»»* +
Column
»»+ 1
<
»»1 2
int
»»2 5
>
»»5 6
(
»»6 7
type
»»7 ;
:
»»; <
$str
»»= B
,
»»B C
nullable
»»D L
:
»»L M
true
»»N R
)
»»R S
,
»»S T
TypeId
…… 
=
…… 
table
…… "
.
……" #
Column
……# )
<
……) *
int
……* -
>
……- .
(
……. /
type
……/ 3
:
……3 4
$str
……5 :
,
……: ;
nullable
……< D
:
……D E
false
……F K
)
……K L
,
……L M
UserId
   
=
   
table
   "
.
  " #
Column
  # )
<
  ) *
string
  * 0
>
  0 1
(
  1 2
type
  2 6
:
  6 7
$str
  8 G
,
  G H
nullable
  I Q
:
  Q R
true
  S W
)
  W X
}
ÀÀ 
,
ÀÀ 
constraints
ÃÃ 
:
ÃÃ 
table
ÃÃ "
=>
ÃÃ# %
{
ÕÕ 
table
ŒŒ 
.
ŒŒ 

PrimaryKey
ŒŒ $
(
ŒŒ$ %
$str
ŒŒ% 1
,
ŒŒ1 2
x
ŒŒ3 4
=>
ŒŒ5 7
x
ŒŒ8 9
.
ŒŒ9 :
Id
ŒŒ: <
)
ŒŒ< =
;
ŒŒ= >
table
œœ 
.
œœ 

ForeignKey
œœ $
(
œœ$ %
name
–– 
:
–– 
$str
–– =
,
––= >
column
—— 
:
—— 
x
——  !
=>
——" $
x
——% &
.
——& '
UserId
——' -
,
——- .
principalTable
““ &
:
““& '
$str
““( 5
,
““5 6
principalColumn
”” '
:
””' (
$str
””) -
)
””- .
;
””. /
table
‘‘ 
.
‘‘ 

ForeignKey
‘‘ $
(
‘‘$ %
name
’’ 
:
’’ 
$str
’’ =
,
’’= >
column
÷÷ 
:
÷÷ 
x
÷÷  !
=>
÷÷" $
x
÷÷% &
.
÷÷& '
TypeId
÷÷' -
,
÷÷- .
principalTable
◊◊ &
:
◊◊& '
$str
◊◊( 5
,
◊◊5 6
principalColumn
ÿÿ '
:
ÿÿ' (
$str
ÿÿ) -
,
ÿÿ- .
onDelete
ŸŸ  
:
ŸŸ  !
ReferentialAction
ŸŸ" 3
.
ŸŸ3 4
Cascade
ŸŸ4 ;
)
ŸŸ; <
;
ŸŸ< =
}
⁄⁄ 
)
⁄⁄ 
;
⁄⁄ 
migrationBuilder
‹‹ 
.
‹‹ 
CreateTable
‹‹ (
(
‹‹( )
name
›› 
:
›› 
$str
›› &
,
››& '
columns
ﬁﬁ 
:
ﬁﬁ 
table
ﬁﬁ 
=>
ﬁﬁ !
new
ﬁﬁ" %
{
ﬂﬂ 

ProductsId
‡‡ 
=
‡‡  
table
‡‡! &
.
‡‡& '
Column
‡‡' -
<
‡‡- .
int
‡‡. 1
>
‡‡1 2
(
‡‡2 3
type
‡‡3 7
:
‡‡7 8
$str
‡‡9 >
,
‡‡> ?
nullable
‡‡@ H
:
‡‡H I
false
‡‡J O
)
‡‡O P
,
‡‡P Q
	RecipesId
·· 
=
·· 
table
··  %
.
··% &
Column
··& ,
<
··, -
int
··- 0
>
··0 1
(
··1 2
type
··2 6
:
··6 7
$str
··8 =
,
··= >
nullable
··? G
:
··G H
false
··I N
)
··N O
}
‚‚ 
,
‚‚ 
constraints
„„ 
:
„„ 
table
„„ "
=>
„„# %
{
‰‰ 
table
ÂÂ 
.
ÂÂ 

PrimaryKey
ÂÂ $
(
ÂÂ$ %
$str
ÂÂ% 8
,
ÂÂ8 9
x
ÂÂ: ;
=>
ÂÂ< >
new
ÂÂ? B
{
ÂÂC D
x
ÂÂE F
.
ÂÂF G

ProductsId
ÂÂG Q
,
ÂÂQ R
x
ÂÂS T
.
ÂÂT U
	RecipesId
ÂÂU ^
}
ÂÂ_ `
)
ÂÂ` a
;
ÂÂa b
table
ÊÊ 
.
ÊÊ 

ForeignKey
ÊÊ $
(
ÊÊ$ %
name
ÁÁ 
:
ÁÁ 
$str
ÁÁ E
,
ÁÁE F
column
ËË 
:
ËË 
x
ËË  !
=>
ËË" $
x
ËË% &
.
ËË& '

ProductsId
ËË' 1
,
ËË1 2
principalTable
ÈÈ &
:
ÈÈ& '
$str
ÈÈ( 2
,
ÈÈ2 3
principalColumn
ÍÍ '
:
ÍÍ' (
$str
ÍÍ) -
,
ÍÍ- .
onDelete
ÎÎ  
:
ÎÎ  !
ReferentialAction
ÎÎ" 3
.
ÎÎ3 4
Cascade
ÎÎ4 ;
)
ÎÎ; <
;
ÎÎ< =
table
ÏÏ 
.
ÏÏ 

ForeignKey
ÏÏ $
(
ÏÏ$ %
name
ÌÌ 
:
ÌÌ 
$str
ÌÌ C
,
ÌÌC D
column
ÓÓ 
:
ÓÓ 
x
ÓÓ  !
=>
ÓÓ" $
x
ÓÓ% &
.
ÓÓ& '
	RecipesId
ÓÓ' 0
,
ÓÓ0 1
principalTable
ÔÔ &
:
ÔÔ& '
$str
ÔÔ( 1
,
ÔÔ1 2
principalColumn
 '
:
' (
$str
) -
,
- .
onDelete
ÒÒ  
:
ÒÒ  !
ReferentialAction
ÒÒ" 3
.
ÒÒ3 4
Cascade
ÒÒ4 ;
)
ÒÒ; <
;
ÒÒ< =
}
ÚÚ 
)
ÚÚ 
;
ÚÚ 
migrationBuilder
ÙÙ 
.
ÙÙ 

InsertData
ÙÙ '
(
ÙÙ' (
table
ıı 
:
ıı 
$str
ıı $
,
ıı$ %
columns
ˆˆ 
:
ˆˆ 
new
ˆˆ 
[
ˆˆ 
]
ˆˆ 
{
ˆˆ  
$str
ˆˆ! %
,
ˆˆ% &
$str
ˆˆ' 9
,
ˆˆ9 :
$str
ˆˆ; A
,
ˆˆA B
$str
ˆˆC S
}
ˆˆT U
,
ˆˆU V
values
˜˜ 
:
˜˜ 
new
˜˜ 
object
˜˜ "
[
˜˜" #
,
˜˜# $
]
˜˜$ %
{
¯¯ 
{
˘˘ 
$str
˘˘ <
,
˘˘< =
$str
˘˘> d
,
˘˘d e
$str
˘˘f m
,
˘˘m n
$str
˘˘o v
}
˘˘w x
,
˘˘x y
{
˙˙ 
$str
˙˙ <
,
˙˙< =
$str
˙˙> d
,
˙˙d e
$str
˙˙f l
,
˙˙l m
$str
˙˙n t
}
˙˙u v
}
˚˚ 
)
˚˚ 
;
˚˚ 
migrationBuilder
˝˝ 
.
˝˝ 

InsertData
˝˝ '
(
˝˝' (
table
˛˛ 
:
˛˛ 
$str
˛˛ $
,
˛˛$ %
columns
ˇˇ 
:
ˇˇ 
new
ˇˇ 
[
ˇˇ 
]
ˇˇ 
{
ˇˇ  
$str
ˇˇ! %
,
ˇˇ% &
$str
ˇˇ' :
,
ˇˇ: ;
$str
ˇˇ< N
,
ˇˇN O
$str
ˇˇP W
,
ˇˇW X
$str
ˇˇY i
,
ˇˇi j
$str
ˇˇk t
,
ˇˇt u
$strˇˇv Ü
,ˇˇÜ á
$strˇˇà î
,ˇˇî ï
$strˇˇñ ß
,ˇˇß ®
$strˇˇ© Ω
,ˇˇΩ æ
$strˇˇø Õ
,ˇˇÕ Œ
$strˇˇœ ‹
,ˇˇ‹ ›
$strˇˇﬁ Ù
,ˇˇÙ ı
$strˇˇˆ Ö
,ˇˇÖ Ü
$strˇˇá ô
,ˇˇô ö
$strˇˇõ •
}ˇˇ¶ ß
,ˇˇß ®
values
ÄÄ 
:
ÄÄ 
new
ÄÄ 
object
ÄÄ "
[
ÄÄ" #
]
ÄÄ# $
{
ÄÄ% &
$str
ÄÄ' M
,
ÄÄM N
$num
ÄÄO P
,
ÄÄP Q
$str
ÄÄR x
,
ÄÄx y
$strÄÄz ã
,ÄÄã å
falseÄÄç í
,ÄÄí ì
nullÄÄî ò
,ÄÄò ô
falseÄÄö ü
,ÄÄü †
nullÄÄ° •
,ÄÄ• ¶
$strÄÄß ∏
,ÄÄ∏ π
$strÄÄ∫ ¡
,ÄÄ¡ ¬
$strÄÄ√ ô
,ÄÄô ö
nullÄÄõ ü
,ÄÄü †
falseÄÄ° ¶
,ÄÄ¶ ß
$strÄÄ® Œ
,ÄÄŒ œ
falseÄÄ– ’
,ÄÄ’ ÷
$strÄÄ◊ ﬁ
}ÄÄﬂ ‡
)ÄÄ‡ ·
;ÄÄ· ‚
migrationBuilder
ÇÇ 
.
ÇÇ 

InsertData
ÇÇ '
(
ÇÇ' (
table
ÉÉ 
:
ÉÉ 
$str
ÉÉ !
,
ÉÉ! "
columns
ÑÑ 
:
ÑÑ 
new
ÑÑ 
[
ÑÑ 
]
ÑÑ 
{
ÑÑ  
$str
ÑÑ! %
,
ÑÑ% &
$str
ÑÑ' 4
}
ÑÑ5 6
,
ÑÑ6 7
values
ÖÖ 
:
ÖÖ 
new
ÖÖ 
object
ÖÖ "
[
ÖÖ" #
,
ÖÖ# $
]
ÖÖ$ %
{
ÜÜ 
{
áá 
$num
áá 
,
áá 
$str
áá  
}
áá! "
,
áá" #
{
àà 
$num
àà 
,
àà 
$str
àà 
}
àà  !
}
ââ 
)
ââ 
;
ââ 
migrationBuilder
ãã 
.
ãã 

InsertData
ãã '
(
ãã' (
table
åå 
:
åå 
$str
åå $
,
åå$ %
columns
çç 
:
çç 
new
çç 
[
çç 
]
çç 
{
çç  
$str
çç! %
,
çç% &
$str
çç' -
}
çç. /
,
çç/ 0
values
éé 
:
éé 
new
éé 
object
éé "
[
éé" #
,
éé# $
]
éé$ %
{
èè 
{
êê 
$num
êê 
,
êê 
$str
êê  
}
êê! "
,
êê" #
{
ëë 
$num
ëë 
,
ëë 
$str
ëë %
}
ëë& '
,
ëë' (
{
íí 
$num
íí 
,
íí 
$str
íí 
}
íí  
}
ìì 
)
ìì 
;
ìì 
migrationBuilder
ïï 
.
ïï 

InsertData
ïï '
(
ïï' (
table
ññ 
:
ññ 
$str
ññ (
,
ññ( )
columns
óó 
:
óó 
new
óó 
[
óó 
]
óó 
{
óó  
$str
óó! )
,
óó) *
$str
óó+ 3
}
óó4 5
,
óó5 6
values
òò 
:
òò 
new
òò 
object
òò "
[
òò" #
]
òò# $
{
òò% &
$str
òò' M
,
òòM N
$str
òòO u
}
òòv w
)
òòw x
;
òòx y
migrationBuilder
öö 
.
öö 
CreateIndex
öö (
(
öö( )
name
õõ 
:
õõ 
$str
õõ 2
,
õõ2 3
table
úú 
:
úú 
$str
úú )
,
úú) *
column
ùù 
:
ùù 
$str
ùù  
)
ùù  !
;
ùù! "
migrationBuilder
üü 
.
üü 
CreateIndex
üü (
(
üü( )
name
†† 
:
†† 
$str
†† %
,
††% &
table
°° 
:
°° 
$str
°° $
,
°°$ %
column
¢¢ 
:
¢¢ 
$str
¢¢ (
,
¢¢( )
unique
££ 
:
££ 
true
££ 
,
££ 
filter
§§ 
:
§§ 
$str
§§ 6
)
§§6 7
;
§§7 8
migrationBuilder
¶¶ 
.
¶¶ 
CreateIndex
¶¶ (
(
¶¶( )
name
ßß 
:
ßß 
$str
ßß 2
,
ßß2 3
table
®® 
:
®® 
$str
®® )
,
®®) *
column
©© 
:
©© 
$str
©©  
)
©©  !
;
©©! "
migrationBuilder
´´ 
.
´´ 
CreateIndex
´´ (
(
´´( )
name
¨¨ 
:
¨¨ 
$str
¨¨ 2
,
¨¨2 3
table
≠≠ 
:
≠≠ 
$str
≠≠ )
,
≠≠) *
column
ÆÆ 
:
ÆÆ 
$str
ÆÆ  
)
ÆÆ  !
;
ÆÆ! "
migrationBuilder
∞∞ 
.
∞∞ 
CreateIndex
∞∞ (
(
∞∞( )
name
±± 
:
±± 
$str
±± 1
,
±±1 2
table
≤≤ 
:
≤≤ 
$str
≤≤ (
,
≤≤( )
column
≥≥ 
:
≥≥ 
$str
≥≥  
)
≥≥  !
;
≥≥! "
migrationBuilder
µµ 
.
µµ 
CreateIndex
µµ (
(
µµ( )
name
∂∂ 
:
∂∂ 
$str
∂∂ "
,
∂∂" #
table
∑∑ 
:
∑∑ 
$str
∑∑ $
,
∑∑$ %
column
∏∏ 
:
∏∏ 
$str
∏∏ )
)
∏∏) *
;
∏∏* +
migrationBuilder
∫∫ 
.
∫∫ 
CreateIndex
∫∫ (
(
∫∫( )
name
ªª 
:
ªª 
$str
ªª %
,
ªª% &
table
ºº 
:
ºº 
$str
ºº $
,
ºº$ %
column
ΩΩ 
:
ΩΩ 
$str
ΩΩ ,
,
ΩΩ, -
unique
ææ 
:
ææ 
true
ææ 
,
ææ 
filter
øø 
:
øø 
$str
øø :
)
øø: ;
;
øø; <
migrationBuilder
¡¡ 
.
¡¡ 
CreateIndex
¡¡ (
(
¡¡( )
name
¬¬ 
:
¬¬ 
$str
¬¬ 3
,
¬¬3 4
table
√√ 
:
√√ 
$str
√√ '
,
√√' (
column
ƒƒ 
:
ƒƒ 
$str
ƒƒ #
)
ƒƒ# $
;
ƒƒ$ %
migrationBuilder
∆∆ 
.
∆∆ 
CreateIndex
∆∆ (
(
∆∆( )
name
«« 
:
«« 
$str
«« )
,
««) *
table
»» 
:
»» 
$str
»»  
,
»»  !
column
…… 
:
…… 
$str
……  
)
……  !
;
……! "
migrationBuilder
ÀÀ 
.
ÀÀ 
CreateIndex
ÀÀ (
(
ÀÀ( )
name
ÃÃ 
:
ÃÃ 
$str
ÃÃ )
,
ÃÃ) *
table
ÕÕ 
:
ÕÕ 
$str
ÕÕ  
,
ÕÕ  !
column
ŒŒ 
:
ŒŒ 
$str
ŒŒ  
)
ŒŒ  !
;
ŒŒ! "
}
œœ 	
	protected
““ 
override
““ 
void
““ 
Down
““  $
(
““$ %
MigrationBuilder
““% 5
migrationBuilder
““6 F
)
““F G
{
”” 	
migrationBuilder
‘‘ 
.
‘‘ 
	DropTable
‘‘ &
(
‘‘& '
name
’’ 
:
’’ 
$str
’’ (
)
’’( )
;
’’) *
migrationBuilder
◊◊ 
.
◊◊ 
	DropTable
◊◊ &
(
◊◊& '
name
ÿÿ 
:
ÿÿ 
$str
ÿÿ (
)
ÿÿ( )
;
ÿÿ) *
migrationBuilder
⁄⁄ 
.
⁄⁄ 
	DropTable
⁄⁄ &
(
⁄⁄& '
name
€€ 
:
€€ 
$str
€€ (
)
€€( )
;
€€) *
migrationBuilder
›› 
.
›› 
	DropTable
›› &
(
››& '
name
ﬁﬁ 
:
ﬁﬁ 
$str
ﬁﬁ '
)
ﬁﬁ' (
;
ﬁﬁ( )
migrationBuilder
‡‡ 
.
‡‡ 
	DropTable
‡‡ &
(
‡‡& '
name
·· 
:
·· 
$str
·· (
)
··( )
;
··) *
migrationBuilder
„„ 
.
„„ 
	DropTable
„„ &
(
„„& '
name
‰‰ 
:
‰‰ 
$str
‰‰ &
)
‰‰& '
;
‰‰' (
migrationBuilder
ÊÊ 
.
ÊÊ 
	DropTable
ÊÊ &
(
ÊÊ& '
name
ÁÁ 
:
ÁÁ 
$str
ÁÁ #
)
ÁÁ# $
;
ÁÁ$ %
migrationBuilder
ÈÈ 
.
ÈÈ 
	DropTable
ÈÈ &
(
ÈÈ& '
name
ÍÍ 
:
ÍÍ 
$str
ÍÍ  
)
ÍÍ  !
;
ÍÍ! "
migrationBuilder
ÏÏ 
.
ÏÏ 
	DropTable
ÏÏ &
(
ÏÏ& '
name
ÌÌ 
:
ÌÌ 
$str
ÌÌ 
)
ÌÌ  
;
ÌÌ  !
migrationBuilder
ÔÔ 
.
ÔÔ 
	DropTable
ÔÔ &
(
ÔÔ& '
name
 
:
 
$str
 #
)
# $
;
$ %
migrationBuilder
ÚÚ 
.
ÚÚ 
	DropTable
ÚÚ &
(
ÚÚ& '
name
ÛÛ 
:
ÛÛ 
$str
ÛÛ #
)
ÛÛ# $
;
ÛÛ$ %
}
ÙÙ 	
}
ıı 
}ˆˆ ‡X
\C:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Data\ApplicationDbContext.cs
	namespace 	
Recipe
 
. 
Data 
{ 
public 

class  
ApplicationDbContext %
:& '
IdentityDbContext( 9
<9 :
ApplicationUser: I
>I J
{		 
public  
ApplicationDbContext #
(# $
DbContextOptions$ 4
<4 5 
ApplicationDbContext5 I
>I J
optionsK R
)R S
:T U
baseV Z
(Z [
options[ b
)b c
{ 	
} 	
public 
DbSet 
< 
Recipee 
> 
Recipes %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
public 
DbSet 
< 
Product 
> 
Products &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
public 
DbSet 
< 

RecipeType 
>  
RecipeTypes! ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public 
DbSet 
< 
UserFavoriteRecipe '
>' (
UserFavoriteRecipes) <
{= >
get? B
;B C
setD G
;G H
}I J
public 
DbSet 
< 
UserRecipeRating %
>% &
UserRecipeRatings' 8
{9 :
get; >
;> ?
set@ C
;C D
}E F
public 
DbSet 
< 
Comment 
> 
Comments &
{' (
get) ,
;, -
set. 1
;1 2
}3 4
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
builder= D
)D E
{ 	
base 
. 
OnModelCreating  
(  !
builder! (
)( )
;) *
builder 
. 
Entity 
< 
UserFavoriteRecipe -
>- .
(. /
)/ 0
. 
HasKey 
( 
ufr 
=> 
new "
{# $
ufr% (
.( )
UserId) /
,/ 0
ufr1 4
.4 5
	RecipeeId5 >
}? @
)@ A
;A B
builder 
. 
Entity 
< 
UserFavoriteRecipe -
>- .
(. /
)/ 0
. 
HasOne 
( 
ufr 
=> 
ufr "
." #
User# '
)' (
. 
WithMany 
( 
u 
=> 
u  
.  !
FavoriteRecipes! 0
)0 1
. 
HasForeignKey 
( 
ufr "
=># %
ufr& )
.) *
UserId* 0
)0 1
;1 2
builder!! 
.!! 
Entity!! 
<!! 
UserFavoriteRecipe!! -
>!!- .
(!!. /
)!!/ 0
."" 
HasOne"" 
("" 
ufr"" 
=>"" 
ufr"" "
.""" #
Recipee""# *
)""* +
.## 
WithMany## 
(## 
r## 
=>## 
r##  
.##  !
UserFavorites##! .
)##. /
.$$ 
HasForeignKey$$ 
($$ 
ufr$$ "
=>$$# %
ufr$$& )
.$$) *
	RecipeeId$$* 3
)$$3 4
;$$4 5
builder&& 
.&& 
Entity&& 
<&& 
UserRecipeRating&& +
>&&+ ,
(&&, -
)&&- .
.'' 
HasKey'' 
('' 
ur'' 
=>'' 
new''  
{''! "
ur''# %
.''% &
UserId''& ,
,'', -
ur''. 0
.''0 1
	RecipeeId''1 :
}''; <
)''< =
;''= >
builder)) 
.)) 
Entity)) 
<)) 
UserRecipeRating)) +
>))+ ,
()), -
)))- .
.** 
HasOne** 
(** 
ur** 
=>** 
ur**  
.**  !
User**! %
)**% &
.++ 
WithMany++ 
(++ 
u++ 
=>++ 
u++  
.++  !
RecipeRatings++! .
)++. /
.,, 
HasForeignKey,, 
(,, 
ur,, !
=>,," $
ur,,% '
.,,' (
UserId,,( .
),,. /
;,,/ 0
builder.. 
... 
Entity.. 
<.. 
UserRecipeRating.. +
>..+ ,
(.., -
)..- .
.// 
HasOne// 
(// 
ur// 
=>// 
ur//  
.//  !
Recipee//! (
)//( )
.00 
WithMany00 
(00 
r00 
=>00 
r00  
.00  !
UserRatings00! ,
)00, -
.11 
HasForeignKey11 
(11 
ur11 !
=>11" $
ur11% '
.11' (
	RecipeeId11( 1
)111 2
;112 3
builder33 
.33 
Entity33 
<33 
Comment33 "
>33" #
(33# $
)33$ %
.44 
HasOne44 
(44 
c44 
=>44 
c44 
.44 
Recipe44 $
)44$ %
.55 
WithMany55 
(55 
r55 
=>55 
r55 
.55  
Comments55  (
)55( )
.66 
HasForeignKey66 
(66 
c66 
=>66  "
c66# $
.66$ %
RecipeId66% -
)66- .
;66. /
builder88 
.88 
Entity88 
<88 

RecipeType88 %
>88% &
(88& '
)88' (
.88( )
HasData88) 0
(880 1
new99 

RecipeType99 
{99  
Id99! #
=99$ %
$num99& '
,99' (
Type99) -
=99. /
$str990 7
}998 9
,999 :
new:: 

RecipeType:: 
{::  
Id::! #
=::$ %
$num::& '
,::' (
Type::) -
=::. /
$str::0 <
}::= >
,::> ?
new;; 

RecipeType;; 
{;;  
Id;;! #
=;;$ %
$num;;& '
,;;' (
Type;;) -
=;;. /
$str;;0 5
};;6 7
)<< 
;<< 
builder== 
.== 
Entity== 
<== 
Product== "
>==" #
(==# $
)==$ %
.==% &
HasData==& -
(==- .
new>> 
Product>> 
{>> 
Id>>  
=>>! "
$num>># $
,>>$ %
ProductName>>& 1
=>>2 3
$str>>4 ;
}>>< =
,>>= >
new?? 
Product?? 
{?? 
Id??  
=??! "
$num??# $
,??$ %
ProductName??& 1
=??2 3
$str??4 :
}??; <
)@@ 
;@@ 
varAA 

userRoleIdAA 
=AA 
$strAA C
;AAC D
varBB 
adminRoleIdBB 
=BB 
$strBB D
;BBD E
varCC 
rolesCC 
=CC 
newCC 
ListCC  
<CC  !
IdentityRoleCC! -
>CC- .
{DD 
newEE 
IdentityRoleEE  
(EE  !
)EE! "
{FF 
IdGG 
=GG 

userRoleIdGG #
,GG# $
NameHH 
=HH 
$strHH !
,HH! "
NormalizedNameII "
=II# $
$strII% +
.II+ ,
ToUpperII, 3
(II3 4
)II4 5
,II5 6
ConcurrencyStampJJ $
=JJ% &

userRoleIdJJ' 1
}KK 
,KK 
newLL 
IdentityRoleLL  
(LL  !
)LL! "
{MM 
IdNN 
=NN 
adminRoleIdNN $
,NN$ %
NameOO 
=OO 
$strOO "
,OO" #
NormalizedNamePP "
=PP# $
$strPP% ,
.PP, -
ToUpperPP- 4
(PP4 5
)PP5 6
,PP6 7
ConcurrencyStampQQ $
=QQ% &
adminRoleIdQQ' 2
}RR 
}SS 
;SS 
builderUU 
.UU 
EntityUU 
<UU 
IdentityRoleUU '
>UU' (
(UU( )
)UU) *
.UU* +
HasDataUU+ 2
(UU2 3
rolesUU3 8
)UU8 9
;UU9 :
varWW 
adminUserIdWW 
=WW 
$strWW D
;WWD E
varXX 
adminXX 
=XX 
newXX 
ApplicationUserXX +
(XX+ ,
)XX, -
{YY 
IdZZ 
=ZZ 
adminUserIdZZ  
,ZZ  !
UserName[[ 
=[[ 
$str[[ "
,[[" #
Email\\ 
=\\ 
$str\\ )
,\\) *
NormalizedEmail]] 
=]]  !
$str]]" 3
.]]3 4
ToUpper]]4 ;
(]]; <
)]]< =
,]]= >
NormalizedUserName^^ "
=^^# $
$str^^% ,
.^^, -
ToUpper^^- 4
(^^4 5
)^^5 6
}__ 
;__ 
admin`` 
.`` 
PasswordHash`` 
=``  
new``! $
PasswordHasher``% 3
<``3 4
ApplicationUser``4 C
>``C D
(``D E
)``E F
.``F G
HashPassword``G S
(``S T
admin``T Y
,``Y Z
$str``[ f
)``f g
;``g h
builderaa 
.aa 
Entityaa 
<aa 
ApplicationUseraa *
>aa* +
(aa+ ,
)aa, -
.aa- .
HasDataaa. 5
(aa5 6
adminaa6 ;
)aa; <
;aa< =
varbb 

adminRolesbb 
=bb 
newbb  
Listbb! %
<bb% &
IdentityUserRolebb& 6
<bb6 7
stringbb7 =
>bb= >
>bb> ?
(bb? @
)bb@ A
{cc 
newdd 
(dd 
)dd 
{ee 
UserIdff 
=ff 
adminUserIdff (
,ff( )
RoleIdgg 
=gg 
adminRoleIdgg (
,gg( )
}hh 
}ii 
;ii 
builderjj 
.jj 
Entityjj 
<jj 
IdentityUserRolejj +
<jj+ ,
stringjj, 2
>jj2 3
>jj3 4
(jj4 5
)jj5 6
.jj6 7
HasDatajj7 >
(jj> ?

adminRolesjj? I
)jjI J
;jjJ K
}kk 	
}mm 
}nn ≤ß
]C:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Controllers\UserController.cs
	namespace 	
Recipe
 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
UserController 
:  !
ControllerBase" 0
{ 
private 
readonly 
UserManager $
<$ %
ApplicationUser% 4
>4 5
_userManager6 B
;B C
private 
readonly 
SignInManager &
<& '
ApplicationUser' 6
>6 7
_signInManager8 F
;F G
private 
readonly 
ITokenRepository )
_tokenRepository* :
;: ;
private 
readonly 
IRecipeRepository *
_recipeRepository+ <
;< =
public 
UserController 
( 
UserManager )
<) *
ApplicationUser* 9
>9 :
userManager; F
,F G
SignInManagerH U
<U V
ApplicationUserV e
>e f
signInManagerg t
,t u
ITokenRepository	v Ü
tokenRepository
á ñ
,
ñ ó
IRecipeRepository
ò ©
recipeRepository
™ ∫
)
∫ ª
{ 	
_userManager 
= 
userManager &
;& '
_signInManager 
= 
signInManager *
;* +
_tokenRepository   
=   
tokenRepository   .
;  . /
_recipeRepository!! 
=!! 
recipeRepository!!  0
;!!0 1
}"" 	
[$$ 	
HttpPost$$	 
]$$ 
[%% 	
Route%%	 
(%% 
$str%% 
)%% 
]%% 
public&& 
async&& 
Task&& 
<&& 
IActionResult&& '
>&&' (
Register&&) 1
(&&1 2
[&&2 3
FromBody&&3 ;
]&&; <
RegisterRequestDTO&&= O
model&&P U
)&&U V
{'' 	
if(( 
((( 

ModelState(( 
.(( 
IsValid(( "
)((" #
{)) 
var** 
existingUser**  
=**! "
await**# (
_userManager**) 5
.**5 6
FindByEmailAsync**6 F
(**F G
model**G L
.**L M
Email**M R
)**R S
;**S T
if++ 
(++ 
existingUser++  
!=++! #
null++$ (
)++( )
{,, 

ModelState-- 
.-- 
AddModelError-- ,
(--, -
$str--- 4
,--4 5
$str--6 T
)--T U
;--U V
return.. 

BadRequest.. %
(..% &

ModelState..& 0
)..0 1
;..1 2
}// 
var11 
user11 
=11 
new11 
ApplicationUser11 .
{22 
UserName33 
=33 
model33 $
.33$ %
Username33% -
,33- .
Email44 
=44 
model44 !
.44! "
Email44" '
,44' (
IsAdmin55 
=55 
false55 #
}66 
;66 
var88 
result88 
=88 
await88 "
_userManager88# /
.88/ 0
CreateAsync880 ;
(88; <
user88< @
,88@ A
model88B G
.88G H
Password88H P
)88P Q
;88Q R
if99 
(99 
result99 
.99 
	Succeeded99 $
)99$ %
{:: 
await;; 
_userManager;; &
.;;& '
AddToRoleAsync;;' 5
(;;5 6
user;;6 :
,;;: ;
$str;;< B
);;B C
;;;C D
await<< 
_signInManager<< (
.<<( )
SignInAsync<<) 4
(<<4 5
user<<5 9
,<<9 :
isPersistent<<; G
:<<G H
false<<I N
)<<N O
;<<O P
return== 
Ok== 
(== 
$str== 8
)==8 9
;==9 :
}>> 
else?? 
{@@ 
foreachAA 
(AA 
varAA  
errorAA! &
inAA' )
resultAA* 0
.AA0 1
ErrorsAA1 7
)AA7 8
{BB 

ModelStateCC "
.CC" #
AddModelErrorCC# 0
(CC0 1
stringCC1 7
.CC7 8
EmptyCC8 =
,CC= >
errorCC? D
.CCD E
DescriptionCCE P
)CCP Q
;CCQ R
}DD 
returnEE 

BadRequestEE %
(EE% &

ModelStateEE& 0
)EE0 1
;EE1 2
}FF 
}GG 
returnHH 

BadRequestHH 
(HH 
$strHH 4
)HH4 5
;HH5 6
}II 	
[KK 	
HttpPostKK	 
]KK 
[LL 	
RouteLL	 
(LL 
$strLL 
)LL 
]LL 
publicMM 
asyncMM 
TaskMM 
<MM 
IActionResultMM '
>MM' (
LoginMM) .
(MM. /
[MM/ 0
FromBodyMM0 8
]MM8 9
LoginRequestDTOMM: I
modelMMJ O
)MMO P
{NN 	
ifOO 
(OO 

ModelStateOO 
.OO 
IsValidOO "
)OO" #
{PP 
varQQ 
userQQ 
=QQ 
awaitQQ  
_userManagerQQ! -
.QQ- .
FindByEmailAsyncQQ. >
(QQ> ?
modelQQ? D
.QQD E

IdentifierQQE O
)QQO P
;QQP Q
ifRR 
(RR 
userRR 
==RR 
nullRR  
)RR  !
{SS 
userTT 
=TT 
awaitTT  
_userManagerTT! -
.TT- .
FindByNameAsyncTT. =
(TT= >
modelTT> C
.TTC D

IdentifierTTD N
)TTN O
;TTO P
}UU 
ifWW 
(WW 
userWW 
!=WW 
nullWW  
)WW  !
{XX 
varYY 
resultYY 
=YY  
awaitYY! &
_signInManagerYY' 5
.YY5 6
PasswordSignInAsyncYY6 I
(YYI J
userYYJ N
.YYN O
UserNameYYO W
,YYW X
modelYYY ^
.YY^ _
PasswordYY_ g
,YYg h
isPersistentYYi u
:YYu v
falseYYw |
,YY| }
lockoutOnFailure	YY~ é
:
YYé è
false
YYê ï
)
YYï ñ
;
YYñ ó
ifZZ 
(ZZ 
resultZZ 
.ZZ 
	SucceededZZ (
)ZZ( )
{[[ 
var\\ 
roles\\ !
=\\" #
await\\$ )
_userManager\\* 6
.\\6 7
GetRolesAsync\\7 D
(\\D E
user\\E I
)\\I J
;\\J K
var^^ 
jwtToken^^ $
=^^% &
_tokenRepository^^' 7
.^^7 8
CreateJwtToken^^8 F
(^^F G
user^^G K
,^^K L
roles^^M R
.^^R S
ToList^^S Y
(^^Y Z
)^^Z [
)^^[ \
;^^\ ]
var__ 
response__ $
=__% &
new__' *
LoginResponseDTO__+ ;
{`` 
Usernameaa $
=aa% &
useraa' +
.aa+ ,
UserNameaa, 4
,aa4 5
Emailbb !
=bb" #
userbb$ (
.bb( )
Emailbb) .
,bb. /
Rolescc !
=cc" #
rolescc$ )
.cc) *
ToListcc* 0
(cc0 1
)cc1 2
,cc2 3
Tokendd !
=dd" #
jwtTokendd$ ,
,dd, -
UserIdee "
=ee# $
useree% )
.ee) *
Idee* ,
}ff 
;ff 
returngg 
Okgg !
(gg! "
responsegg" *
)gg* +
;gg+ ,
}hh 
}ii 

ModelStatekk 
.kk 
AddModelErrorkk (
(kk( )
stringkk) /
.kk/ 0
Emptykk0 5
,kk5 6
$strkk7 O
)kkO P
;kkP Q
returnll 

BadRequestll !
(ll! "

ModelStatell" ,
)ll, -
;ll- .
}mm 
returnnn 

BadRequestnn 
(nn 
$strnn 4
)nn4 5
;nn5 6
}oo 	
[qq 	
HttpGetqq	 
]qq 
[rr 	
Routerr	 
(rr 
$strrr #
)rr# $
]rr$ %
publicss 
asyncss 
Taskss 
<ss 
IActionResultss '
>ss' (
CheckRegistrationss) :
(ss: ;
[ss; <
	FromQueryss< E
]ssE F
stringssG M
emailssN S
)ssS T
{tt 	
varuu 
useruu 
=uu 
awaituu 
_userManageruu )
.uu) *
FindByEmailAsyncuu* :
(uu: ;
emailuu; @
)uu@ A
;uuA B
ifvv 
(vv 
uservv 
!=vv 
nullvv 
)vv 
{ww 
returnxx 
Okxx 
(xx 
$strxx /
)xx/ 0
;xx0 1
}yy 
returnzz 
NotFoundzz 
(zz 
$strzz 5
)zz5 6
;zz6 7
}{{ 	
[}} 	
HttpPost}}	 
(}} 
$str}} 7
)}}7 8
]}}8 9
public~~ 
async~~ 
Task~~ 
<~~ 
IActionResult~~ '
>~~' (
AddFavorite~~) 4
(~~4 5
string~~5 ;
userId~~< B
,~~B C
int~~D G
recipeId~~H P
)~~P Q
{ 	
var
ÅÅ 
recipe
ÅÅ 
=
ÅÅ 
await
ÅÅ 
_recipeRepository
ÅÅ 0
.
ÅÅ0 1
GetByIdAsync
ÅÅ1 =
(
ÅÅ= >
recipeId
ÅÅ> F
)
ÅÅF G
;
ÅÅG H
if
ÇÇ 
(
ÇÇ 
recipe
ÇÇ 
==
ÇÇ 
null
ÇÇ 
)
ÇÇ 
{
ÉÉ 
return
ÑÑ 
NotFound
ÑÑ 
(
ÑÑ  
$str
ÑÑ  3
)
ÑÑ3 4
;
ÑÑ4 5
}
ÖÖ 
await
áá 
_recipeRepository
áá #
.
áá# $'
AddRecipeToFavoritesAsync
áá$ =
(
áá= >
userId
áá> D
,
ááD E
recipeId
ááF N
)
ááN O
;
ááO P
return
ââ 
Ok
ââ 
(
ââ 
$str
ââ 1
)
ââ1 2
;
ââ2 3
}
ää 	
[
åå 	

HttpDelete
åå	 
(
åå 
$str
åå 9
)
åå9 :
]
åå: ;
public
çç 
async
çç 
Task
çç 
<
çç 
IActionResult
çç '
>
çç' (
RemoveFavorite
çç) 7
(
çç7 8
string
çç8 >
userId
çç? E
,
ççE F
int
ççG J
recipeId
ççK S
)
ççS T
{
éé 	
await
èè 
_recipeRepository
èè #
.
èè# $,
RemoveRecipeFromFavoritesAsync
èè$ B
(
èèB C
userId
èèC I
,
èèI J
recipeId
èèK S
)
èèS T
;
èèT U
return
ëë 
Ok
ëë 
(
ëë 
$str
ëë 5
)
ëë5 6
;
ëë6 7
}
íí 	
[
îî 	
HttpGet
îî	 
(
îî 
$str
îî +
)
îî+ ,
]
îî, -
public
ïï 
async
ïï 
Task
ïï 
<
ïï 
IActionResult
ïï '
>
ïï' (
GetAllFavorites
ïï) 8
(
ïï8 9
string
ïï9 ?
userId
ïï@ F
)
ïïF G
{
ññ 	
var
òò 
favoriteRecipes
òò 
=
òò  !
await
òò" '
_recipeRepository
òò( 9
.
òò9 :,
GetFavoriteRecipesForUserAsync
òò: X
(
òòX Y
userId
òòY _
)
òò_ `
;
òò` a
var
úú 
response
úú 
=
úú 
favoriteRecipes
úú *
.
úú* +
Select
úú+ 1
(
úú1 2
recipe
úú2 8
=>
úú9 ;
new
úú< ?
	RecipeDTO
úú@ I
{
ùù 
Id
ûû 
=
ûû 
recipe
ûû 
.
ûû 
Id
ûû 
,
ûû 
Title
üü 
=
üü 
recipe
üü 
.
üü 
Title
üü $
,
üü$ %
ShortDescription
††  
=
††! "
recipe
††# )
.
††) *
ShortDescription
††* :
,
††: ;
Description
°° 
=
°° 
recipe
°° $
.
°°$ %
Description
°°% 0
,
°°0 1
ImageUrl
¢¢ 
=
¢¢ 
recipe
¢¢ !
.
¢¢! "
ImageUrl
¢¢" *
,
¢¢* +
Preparation
££ 
=
££ 
recipe
££ $
.
££$ %
Preparation
££% 0
,
££0 1

SkillLevel
§§ 
=
§§ 
recipe
§§ #
.
§§# $

SkillLevel
§§$ .
,
§§. /
TimeForCooking
•• 
=
••  
recipe
••! '
.
••' (
TimeForCooking
••( 6
,
••6 7
Type
¶¶ 
=
¶¶ 
new
¶¶ 

RecipeType
¶¶ %
{
ßß 
Id
®® 
=
®® 
recipe
®® 
.
®®  
Type
®®  $
.
®®$ %
Id
®®% '
,
®®' (
Type
©© 
=
©© 
recipe
©© !
.
©©! "
Type
©©" &
.
©©& '
Type
©©' +
}
™™ 
,
™™ 
Products
´´ 
=
´´ 
recipe
´´ !
.
´´! "
Products
´´" *
.
´´* +
Select
´´+ 1
(
´´1 2
x
´´2 3
=>
´´4 6
new
´´7 :

ProductDTO
´´; E
{
¨¨ 
Id
≠≠ 
=
≠≠ 
x
≠≠ 
.
≠≠ 
Id
≠≠ 
,
≠≠ 
ProductName
ÆÆ 
=
ÆÆ  !
x
ÆÆ" #
.
ÆÆ# $
ProductName
ÆÆ$ /
}
ØØ 
)
ØØ 
.
ØØ 
ToList
ØØ 
(
ØØ 
)
ØØ 
,
ØØ #
RecipeCreatorUserName
∞∞ %
=
∞∞& '
recipe
∞∞( .
.
∞∞. /
User
∞∞/ 3
.
∞∞3 4
UserName
∞∞4 <
,
∞∞< =
}
±± 
)
±± 
;
±± 
return
≥≥ 
Ok
≥≥ 
(
≥≥ 
response
≥≥ 
)
≥≥ 
;
≥≥  
}
µµ 	
[
∂∂ 	
HttpPost
∂∂	 
]
∂∂ 
[
∑∑ 	
Route
∑∑	 
(
∑∑ 
$str
∑∑ 
)
∑∑ 
]
∑∑ 
public
∏∏ 
async
∏∏ 
Task
∏∏ 
<
∏∏ 
IActionResult
∏∏ '
>
∏∏' (
ChangePassword
∏∏) 7
(
∏∏7 8
[
∏∏8 9
FromBody
∏∏9 A
]
∏∏A B
ChangePasswordDTO
∏∏C T
model
∏∏U Z
)
∏∏Z [
{
ππ 	
if
∫∫ 
(
∫∫ 

ModelState
∫∫ 
.
∫∫ 
IsValid
∫∫ "
)
∫∫" #
{
ªª 
var
ºº 
user
ºº 
=
ºº 
await
ºº  
_userManager
ºº! -
.
ºº- .
FindByEmailAsync
ºº. >
(
ºº> ?
model
ºº? D
.
ººD E
	UserEmail
ººE N
)
ººN O
;
ººO P
if
ΩΩ 
(
ΩΩ 
user
ΩΩ 
==
ΩΩ 
null
ΩΩ  
)
ΩΩ  !
{
ææ 
return
øø 

BadRequest
øø %
(
øø% &
$str
øø& 7
)
øø7 8
;
øø8 9
}
¿¿ 
var
√√ 
result
√√ 
=
√√ 
await
√√ "
_userManager
√√# /
.
√√/ 0!
ChangePasswordAsync
√√0 C
(
√√C D
user
√√D H
,
√√H I
model
√√J O
.
√√O P
OldPassword
√√P [
,
√√[ \
model
√√] b
.
√√b c
NewPassword
√√c n
)
√√n o
;
√√o p
if
ƒƒ 
(
ƒƒ 
result
ƒƒ 
.
ƒƒ 
	Succeeded
ƒƒ $
)
ƒƒ$ %
{
≈≈ 
return
∆∆ 
Ok
∆∆ 
(
∆∆ 
$str
∆∆ >
)
∆∆> ?
;
∆∆? @
}
«« 
else
»» 
{
…… 
foreach
   
(
   
var
    
error
  ! &
in
  ' )
result
  * 0
.
  0 1
Errors
  1 7
)
  7 8
{
ÀÀ 

ModelState
ÃÃ "
.
ÃÃ" #
AddModelError
ÃÃ# 0
(
ÃÃ0 1
string
ÃÃ1 7
.
ÃÃ7 8
Empty
ÃÃ8 =
,
ÃÃ= >
error
ÃÃ? D
.
ÃÃD E
Description
ÃÃE P
)
ÃÃP Q
;
ÃÃQ R
}
ÕÕ 
return
ŒŒ 

BadRequest
ŒŒ %
(
ŒŒ% &

ModelState
ŒŒ& 0
)
ŒŒ0 1
;
ŒŒ1 2
}
œœ 
}
–– 
return
—— 

BadRequest
—— 
(
—— 
$str
—— 4
)
——4 5
;
——5 6
}
““ 	
[
”” 	
HttpPost
””	 
]
”” 
[
‘‘ 	
Route
‘‘	 
(
‘‘ 
$str
‘‘  
)
‘‘  !
]
‘‘! "
public
’’ 
async
’’ 
Task
’’ 
<
’’ 
IActionResult
’’ '
>
’’' (
AddDescription
’’) 7
(
’’7 8
[
’’8 9
FromBody
’’9 A
]
’’A B 
UserDescriptionDTO
’’C U
model
’’V [
)
’’[ \
{
÷÷ 	
if
◊◊ 
(
◊◊ 

ModelState
◊◊ 
.
◊◊ 
IsValid
◊◊ "
)
◊◊" #
{
ÿÿ 
var
ŸŸ 
user
ŸŸ 
=
ŸŸ 
await
ŸŸ  
_userManager
ŸŸ! -
.
ŸŸ- .
FindByEmailAsync
ŸŸ. >
(
ŸŸ> ?
model
ŸŸ? D
.
ŸŸD E
Email
ŸŸE J
)
ŸŸJ K
;
ŸŸK L
if
⁄⁄ 
(
⁄⁄ 
user
⁄⁄ 
==
⁄⁄ 
null
⁄⁄  
)
⁄⁄  !
{
€€ 
return
‹‹ 
NotFound
‹‹ #
(
‹‹# $
$str
‹‹$ 5
)
‹‹5 6
;
‹‹6 7
}
›› 
user
ﬂﬂ 
.
ﬂﬂ 
UserDescription
ﬂﬂ $
=
ﬂﬂ% &
model
ﬂﬂ' ,
.
ﬂﬂ, -
UserDescription
ﬂﬂ- <
;
ﬂﬂ< =
var
‡‡ 
result
‡‡ 
=
‡‡ 
await
‡‡ "
_userManager
‡‡# /
.
‡‡/ 0
UpdateAsync
‡‡0 ;
(
‡‡; <
user
‡‡< @
)
‡‡@ A
;
‡‡A B
if
‚‚ 
(
‚‚ 
result
‚‚ 
.
‚‚ 
	Succeeded
‚‚ $
)
‚‚$ %
{
„„ 
return
‰‰ 
Ok
‰‰ 
(
‰‰ 
$str
‰‰ ?
)
‰‰? @
;
‰‰@ A
}
ÂÂ 
else
ÊÊ 
{
ÁÁ 
foreach
ËË 
(
ËË 
var
ËË  
error
ËË! &
in
ËË' )
result
ËË* 0
.
ËË0 1
Errors
ËË1 7
)
ËË7 8
{
ÈÈ 

ModelState
ÍÍ "
.
ÍÍ" #
AddModelError
ÍÍ# 0
(
ÍÍ0 1
string
ÍÍ1 7
.
ÍÍ7 8
Empty
ÍÍ8 =
,
ÍÍ= >
error
ÍÍ? D
.
ÍÍD E
Description
ÍÍE P
)
ÍÍP Q
;
ÍÍQ R
}
ÎÎ 
return
ÏÏ 

BadRequest
ÏÏ %
(
ÏÏ% &

ModelState
ÏÏ& 0
)
ÏÏ0 1
;
ÏÏ1 2
}
ÌÌ 
}
ÓÓ 
return
ÔÔ 

BadRequest
ÔÔ 
(
ÔÔ 
$str
ÔÔ 4
)
ÔÔ4 5
;
ÔÔ5 6
}
 	
[
ÚÚ 	
HttpGet
ÚÚ	 
]
ÚÚ 
[
ÛÛ 	
Route
ÛÛ	 
(
ÛÛ 
$str
ÛÛ  
)
ÛÛ  !
]
ÛÛ! "
public
ÙÙ 
async
ÙÙ 
Task
ÙÙ 
<
ÙÙ 
IActionResult
ÙÙ '
>
ÙÙ' (
GetDescription
ÙÙ) 7
(
ÙÙ7 8
[
ÙÙ8 9
	FromQuery
ÙÙ9 B
]
ÙÙB C
string
ÙÙD J
email
ÙÙK P
)
ÙÙP Q
{
ıı 	
var
ˆˆ 
user
ˆˆ 
=
ˆˆ 
await
ˆˆ 
_userManager
ˆˆ )
.
ˆˆ) *
FindByEmailAsync
ˆˆ* :
(
ˆˆ: ;
email
ˆˆ; @
)
ˆˆ@ A
;
ˆˆA B
if
˜˜ 
(
˜˜ 
user
˜˜ 
==
˜˜ 
null
˜˜ 
)
˜˜ 
{
¯¯ 
return
˘˘ 
NotFound
˘˘ 
(
˘˘  
$str
˘˘  1
)
˘˘1 2
;
˘˘2 3
}
˙˙ 
return
¸¸ 
Ok
¸¸ 
(
¸¸ 
new
¸¸ 
{
¸¸ 
UserDescription
¸¸ +
=
¸¸, -
user
¸¸. 2
.
¸¸2 3
UserDescription
¸¸3 B
}
¸¸C D
)
¸¸D E
;
¸¸E F
}
˝˝ 	
}
˛˛ 
}ˇˇ ﬂ
cC:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Controllers\RecipeTypeController.cs
	namespace 	
Recipe
 
. 
Controllers 
{		 
[

 
Route

 

(


 
$str

 
)

 
]

 
[ 
ApiController 
] 
public 

class  
RecipeTypeController %
:& '
ControllerBase( 6
{ 
private 
readonly !
IRecipeTypeRepository .!
_recipeTypeRepository/ D
;D E
public  
RecipeTypeController #
(# $!
IRecipeTypeRepository$ 9

recipeType: D
)D E
{ 	!
_recipeTypeRepository !
=" #

recipeType$ .
;. /
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' ("
GetAllRecipeTypesAsync) ?
(? @
)@ A
{ 	
var 
recipeTypes 
= 
await #!
_recipeTypeRepository$ 9
.9 :
GetAllTypes: E
(E F
)F G
;G H
var 
response 
= 
new 
List #
<# $
RecipeTypeDTO$ 1
>1 2
(2 3
)3 4
;4 5
if 
( 
recipeTypes 
== 
null #
)# $
{ 
return 
Ok 
( 
recipeTypes %
)% &
;& '
} 
foreach 
( 
var 
type 
in  
recipeTypes! ,
), -
{   
response!! 
.!! 
Add!! 
(!! 
new!!  
RecipeTypeDTO!!! .
{"" 
Id## 
=## 
type## 
.## 
Id##  
,##  !
Type$$ 
=$$ 
type$$ 
.$$  
Type$$  $
}%% 
)%% 
;%% 
}&& 
return'' 
Ok'' 
('' 
response'' 
)'' 
;''  
}(( 	
})) 
}** ü§
_C:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Controllers\RecipeController.cs
	namespace 	
Recipe
 
. 
Controllers 
{ 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
RecipeController !
:" #
ControllerBase$ 2
{ 
private 
readonly 
IRecipeRepository *
_recipeRepository+ <
;< =
private 
readonly 
IProductRepository +
_productRepository, >
;> ?
private 
readonly !
IRecipeTypeRepository .!
_recipeTypeRepository/ D
;D E
private 
readonly 
UserManager $
<$ %
ApplicationUser% 4
>4 5
_userManager6 B
;B C
public 
RecipeController 
(  
IRecipeRepository  1
recipeRepository2 B
,B C
IProductRepositoryD V
productRepoW b
,b c!
IRecipeTypeRepositoryd y!
recipeTypeRepository	z é
,
é è
UserManager
ê õ
<
õ ú
ApplicationUser
ú ´
>
´ ¨
userManager
≠ ∏
)
∏ π
{ 	
_recipeRepository 
= 
recipeRepository  0
;0 1
_productRepository 
=  
_productRepository! 3
=4 5
productRepo6 A
;A B!
_recipeTypeRepository !
=! " 
recipeTypeRepository" 6
;6 7
_userManager 
= 
userManager %
;% &
} 	
[ 	
HttpPost	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
CreateRecipe) 5
(5 6
[6 7
FromBody7 ?
]? @
CreateRecipeDTOA P
requestQ X
)X Y
{ 	
var   
authorEmail   
=   
request   %
.  % &
Author  & ,
;  , -
if!! 
(!! 
string!! 
.!! 
IsNullOrEmpty!! $
(!!$ %
authorEmail!!% 0
)!!0 1
)!!1 2
{"" 
return## 

BadRequest## !
(##! "
$str##" =
)##= >
;##> ?
}$$ 
var&& 
user&& 
=&& 
await&& 
_userManager&& )
.&&) *
FindByEmailAsync&&* :
(&&: ;
authorEmail&&; F
)&&F G
;&&G H
var)) 
recipe)) 
=)) 
new)) 
Recipee)) $
{** 
Title++ 
=++ 
request++ 
.++  
Title++  %
,++% &
ShortDescription,,  
=,,! "
request,,# *
.,,* +
ShortDescription,,+ ;
,,,; <
Description-- 
=-- 
request-- %
.--% &
Description--& 1
,--1 2
ImageUrl.. 
=.. 
request.. "
..." #
ImageUrl..# +
,..+ ,
Preparation// 
=// 
request// %
.//% &
Preparation//& 1
,//1 2

SkillLevel00 
=00 
request00 $
.00$ %

SkillLevel00% /
,00/ 0
TimeForCooking11 
=11  
request11! (
.11( )
TimeForCooking11) 7
,117 8
Products22 
=22 
new22 
List22 #
<22# $
Product22$ +
>22+ ,
(22, -
)22- .
,22. /
Type33 
=33 
new33 

RecipeType33 %
(33% &
)33& '
,33' (
User44 
=44 
new44 
ApplicationUser44 *
(44* +
)44+ ,
}66 
;66 
foreach88 
(88 
var88 
	productId88 "
in88# %
request88& -
.88- .
Products88. 6
)886 7
{99 
var:: 
existingProduct:: #
=::$ %
await::& +
_productRepository::, >
.::> ?
GetByIdAsync::? K
(::K L
	productId::L U
)::U V
;::V W
if;; 
(;; 
existingProduct;; #
is;;$ &
not;;' *
null;;+ /
);;/ 0
{<< 
recipe== 
.== 
Products== #
.==# $
Add==$ '
(==' (
existingProduct==( 7
)==7 8
;==8 9
}>> 
}?? 
var@@ 
existingType@@ 
=@@ 
await@@ $!
_recipeTypeRepository@@% :
.@@: ;
GetByIdAsync@@; G
(@@G H
request@@H O
.@@O P
Type@@P T
)@@T U
;@@U V
ifAA 
(AA 
existingTypeAA 
!=AA 
nullAA  $
)AA$ %
{BB 
recipeCC 
.CC 
TypeCC 
=CC 
existingTypeCC *
;CC* +
}DD 
ifFF 
(FF 
userFF 
!=FF 
nullFF 
)FF 
{GG 
recipeHH 
.HH 
UserHH 
=HH 
userHH "
;HH" #
}II 
recipeJJ 
=JJ 
awaitJJ 
_recipeRepositoryJJ ,
.JJ, -
CreateAsyncJJ- 8
(JJ8 9
recipeJJ9 ?
)JJ? @
;JJ@ A
varKK 
responseKK 
=KK 
newKK 
	RecipeDTOKK (
{LL 
IdMM 
=MM 
recipeMM 
.MM 
IdMM 
,MM 
TitleNN 
=NN 
recipeNN 
.NN 
TitleNN $
,NN$ %
ShortDescriptionOO  
=OO! "
recipeOO# )
.OO) *
ShortDescriptionOO* :
,OO: ;
DescriptionPP 
=PP 
recipePP $
.PP$ %
DescriptionPP% 0
,PP0 1
ImageUrlQQ 
=QQ 
recipeQQ !
.QQ! "
ImageUrlQQ" *
,QQ* +
PreparationRR 
=RR 
recipeRR $
.RR$ %
PreparationRR% 0
,RR0 1

SkillLevelSS 
=SS 
recipeSS #
.SS# $

SkillLevelSS$ .
,SS. /
TimeForCookingTT 
=TT  
recipeTT! '
.TT' (
TimeForCookingTT( 6
,TT6 7
TypeUU 
=UU 
recipeUU 
.UU 
TypeUU "
,UU" #
ProductsVV 
=VV 
recipeVV !
.VV! "
ProductsVV" *
.VV* +
SelectVV+ 1
(VV1 2
xVV2 3
=>VV4 6
newVV7 :

ProductDTOVV; E
{WW 
IdXX 
=XX 
xXX 
.XX 
IdXX 
,XX 
ProductNameYY 
=YY  !
xYY" #
.YY# $
ProductNameYY$ /
==YY0 2
nullYY3 7
?YY8 9
$strYY: <
:YY= >
xYY? @
.YY@ A
ProductNameYYA L
,YYL M
}ZZ 
)ZZ 
.ZZ 
ToListZZ 
(ZZ 
)ZZ 
}\\ 
;\\ 
return]] 
Ok]] 
(]] 
response]] 
)]] 
;]]  
}^^ 	
[__ 	
HttpGet__	 
(__ 
$str__ 
)__ 
]__  
public`` 
async`` 
Task`` 
<`` 
IActionResult`` '
>``' (!
GetNonVerifiedRecipes``) >
(``> ?
)``? @
{aa 	
varbb 
nonVerifiedRecipesbb "
=bb# $
awaitbb% *
_recipeRepositorybb+ <
.bb< =$
GetAllNonVerifiedRecipesbb= U
(bbU V
)bbV W
;bbW X
varcc 
responsecc 
=cc 
newcc 
Listcc #
<cc# $
	RecipeDTOcc$ -
>cc- .
(cc. /
)cc/ 0
;cc0 1
foreachee 
(ee 
varee 
recipeee 
inee  "
nonVerifiedRecipesee# 5
)ee5 6
{ff 
ifgg 
(gg 
recipegg 
.gg 
Titlegg  
!=gg! #
nullgg$ (
)gg( )
{hh 
responseii 
.ii 
Addii  
(ii  !
newii! $
	RecipeDTOii% .
{jj 
Idkk 
=kk 
recipekk #
.kk# $
Idkk$ &
,kk& '
Titlell 
=ll 
recipell  &
.ll& '
Titlell' ,
,ll, -
ShortDescriptionmm (
=mm) *
recipemm+ 1
.mm1 2
ShortDescriptionmm2 B
,mmB C
Descriptionnn #
=nn$ %
recipenn& ,
.nn, -
Descriptionnn- 8
,nn8 9
ImageUrloo  
=oo! "
recipeoo# )
.oo) *
ImageUrloo* 2
,oo2 3
}qq 
)qq 
;qq 
}rr 
}ss 
returntt 
Oktt 
(tt 
responsett 
)tt 
;tt  
}uu 	
[ww 	
HttpPutww	 
]ww 
[xx 	
Routexx	 
(xx 
$strxx 
)xx 
]xx 
publicyy 
asyncyy 
Taskyy 
<yy 
IActionResultyy '
>yy' (
UpdateRecipeByIdyy) 9
(yy9 :
[yy: ;
	FromRouteyy; D
]yyD E
intyyF I
idyyJ L
,yyL M"
UpdateRecipeRequestDTOyyN d
requestyye l
)yyl m
{zz 	
var|| 
recipe|| 
=|| 
new|| 
Recipee|| $
{}} 
Id~~ 
=~~ 
id~~ 
,~~ 
Title 
= 
request 
.  
Title  %
,% &
ShortDescription
ÄÄ  
=
ÄÄ! "
request
ÄÄ# *
.
ÄÄ* +
ShortDescription
ÄÄ+ ;
,
ÄÄ; <
Description
ÅÅ 
=
ÅÅ 
request
ÅÅ %
.
ÅÅ% &
Description
ÅÅ& 1
,
ÅÅ1 2
ImageUrl
ÇÇ 
=
ÇÇ 
request
ÇÇ "
.
ÇÇ" #
ImageUrl
ÇÇ# +
,
ÇÇ+ ,
Preparation
ÉÉ 
=
ÉÉ 
request
ÉÉ %
.
ÉÉ% &
Preparation
ÉÉ& 1
,
ÉÉ1 2

SkillLevel
ÑÑ 
=
ÑÑ 
request
ÑÑ $
.
ÑÑ$ %

SkillLevel
ÑÑ% /
,
ÑÑ/ 0
TimeForCooking
ÖÖ 
=
ÖÖ  
request
ÖÖ! (
.
ÖÖ( )
TimeForCooking
ÖÖ) 7
,
ÖÖ7 8
Products
ÜÜ 
=
ÜÜ 
new
ÜÜ 
List
ÜÜ #
<
ÜÜ# $
Product
ÜÜ$ +
>
ÜÜ+ ,
(
ÜÜ, -
)
ÜÜ- .
,
ÜÜ. /
Type
áá 
=
áá 
new
áá 

RecipeType
áá %
(
áá% &
)
áá& '
}
àà 
;
àà 
foreach
ââ 
(
ââ 
var
ââ 
	productID
ââ "
in
ââ# %
request
ââ& -
.
ââ- .
Products
ââ. 6
)
ââ6 7
{
ää 
var
ãã 
existingProduct
ãã #
=
ãã$ %
await
ãã& + 
_productRepository
ãã, >
.
ãã> ?
GetByIdAsync
ãã? K
(
ããK L
	productID
ããL U
)
ããU V
;
ããV W
if
åå 
(
åå 
existingProduct
åå #
!=
åå$ &
null
åå' +
)
åå+ ,
{
çç 
recipe
éé 
.
éé 
Products
éé #
.
éé# $
Add
éé$ '
(
éé' (
existingProduct
éé( 7
)
éé7 8
;
éé8 9
}
èè 
}
êê 
var
ëë 
existingType
ëë 
=
ëë 
await
ëë $#
_recipeTypeRepository
ëë% :
.
ëë: ;
GetByIdAsync
ëë; G
(
ëëG H
request
ëëH O
.
ëëO P
Type
ëëP T
)
ëëT U
;
ëëU V
if
íí 
(
íí 
existingType
íí 
!=
íí 
null
íí  $
)
íí$ %
{
ìì 
recipe
îî 
.
îî 
Type
îî 
=
îî 
existingType
îî *
;
îî* +
}
ïï 
var
ññ 
updatedBlogPost
ññ 
=
ññ  !
await
ññ" '
_recipeRepository
ññ( 9
.
ññ9 :
UpdateAsync
ññ: E
(
ññE F
recipe
ññF L
)
ññL M
;
ññM N
if
óó 
(
óó 
updatedBlogPost
óó 
==
óó  "
null
óó# '
)
óó' (
{
òò 
return
ôô 
NotFound
ôô 
(
ôô  
)
ôô  !
;
ôô! "
}
öö 
var
úú 
response
úú 
=
úú 
new
úú 
	RecipeDTO
úú (
{
ùù 
Id
ûû 
=
ûû 
recipe
ûû 
.
ûû 
Id
ûû 
,
ûû 
Title
üü 
=
üü 
recipe
üü 
.
üü 
Title
üü $
,
üü$ %
Description
†† 
=
†† 
recipe
†† $
.
††$ %
Description
††% 0
,
††0 1
ShortDescription
°°  
=
°°! "
recipe
°°# )
.
°°) *
ShortDescription
°°* :
,
°°: ;
ImageUrl
¢¢ 
=
¢¢ 
recipe
¢¢ !
.
¢¢! "
ImageUrl
¢¢" *
,
¢¢* +
Preparation
££ 
=
££ 
recipe
££ $
.
££$ %
Preparation
££% 0
,
££0 1

SkillLevel
§§ 
=
§§ 
recipe
§§ #
.
§§# $

SkillLevel
§§$ .
,
§§. /
TimeForCooking
•• 
=
••  
recipe
••! '
.
••' (
TimeForCooking
••( 6
,
••6 7
Products
¶¶ 
=
¶¶ 
recipe
¶¶ !
.
¶¶! "
Products
¶¶" *
.
¶¶* +
Select
¶¶+ 1
(
¶¶1 2
x
¶¶2 3
=>
¶¶4 6
new
¶¶7 :

ProductDTO
¶¶; E
{
ßß 
Id
®® 
=
®® 
x
®® 
.
®® 
Id
®® 
,
®® 
ProductName
©© 
=
©©  !
x
©©" #
.
©©# $
ProductName
©©$ /
==
©©0 2
null
©©3 7
?
©©8 9
$str
©©: <
:
©©= >
x
©©? @
.
©©@ A
ProductName
©©A L
,
©©L M
}
™™ 
)
™™ 
.
™™ 
ToList
™™ 
(
™™ 
)
™™ 
,
™™ 
Type
´´ 
=
´´ 
recipe
´´ 
.
´´ 
Type
´´ "
}
¨¨ 
;
¨¨ 
return
≠≠ 
Ok
≠≠ 
(
≠≠ 
response
≠≠ 
)
≠≠ 
;
≠≠  
}
ÆÆ 	
[
ØØ 	

HttpDelete
ØØ	 
]
ØØ 
[
∞∞ 	
Route
∞∞	 
(
∞∞ 
$str
∞∞ 
)
∞∞ 
]
∞∞ 
public
±± 
async
±± 
Task
±± 
<
±± 
IActionResult
±± '
>
±±' (

DeleteById
±±) 3
(
±±3 4
int
±±4 7
id
±±8 :
)
±±: ;
{
≤≤ 	
var
≥≥ 
deletedRecipe
≥≥ 
=
≥≥ 
await
≥≥  %
_recipeRepository
≥≥& 7
.
≥≥7 8
DeleteAsync
≥≥8 C
(
≥≥C D
id
≥≥D F
)
≥≥F G
;
≥≥G H
if
¥¥ 
(
¥¥ 
deletedRecipe
¥¥ 
==
¥¥  
null
¥¥! %
)
¥¥% &
return
¥¥' -
NotFound
¥¥. 6
(
¥¥6 7
)
¥¥7 8
;
¥¥8 9
return
µµ 
Ok
µµ 
(
µµ 
deletedRecipe
µµ #
)
µµ# $
;
µµ$ %
}
∂∂ 	
[
∑∑ 	
HttpGet
∑∑	 
]
∑∑ 
public
∏∏ 
async
∏∏ 
Task
∏∏ 
<
∏∏ 
IActionResult
∏∏ '
>
∏∏' (
GetAllRecipes
∏∏) 6
(
∏∏6 7
)
∏∏7 8
{
ππ 	
var
∫∫ 
recipes
∫∫ 
=
∫∫ 
await
∫∫ 
_recipeRepository
∫∫  1
.
∫∫1 2
GetAllAsync
∫∫2 =
(
∫∫= >
)
∫∫> ?
;
∫∫? @
var
ºº 
response
ºº 
=
ºº 
new
ºº 
List
ºº #
<
ºº# $
	RecipeDTO
ºº$ -
>
ºº- .
(
ºº. /
)
ºº/ 0
;
ºº0 1
foreach
ΩΩ 
(
ΩΩ 
var
ΩΩ 
recipe
ΩΩ 
in
ΩΩ  "
recipes
ΩΩ# *
)
ΩΩ* +
{
ææ 
response
øø 
.
øø 
Add
øø 
(
øø 
new
øø  
	RecipeDTO
øø! *
{
¿¿ 
Id
¡¡ 
=
¡¡ 
recipe
¡¡ 
.
¡¡  
Id
¡¡  "
,
¡¡" #
Title
¬¬ 
=
¬¬ 
recipe
¬¬ "
.
¬¬" #
Title
¬¬# (
,
¬¬( )
ShortDescription
√√ $
=
√√% &
recipe
√√' -
.
√√- .
ShortDescription
√√. >
,
√√> ?
Description
ƒƒ 
=
ƒƒ  !
recipe
ƒƒ" (
.
ƒƒ( )
Description
ƒƒ) 4
,
ƒƒ4 5
ImageUrl
≈≈ 
=
≈≈ 
recipe
≈≈ %
.
≈≈% &
ImageUrl
≈≈& .
,
≈≈. /
Preparation
∆∆ 
=
∆∆  !
recipe
∆∆" (
.
∆∆( )
Preparation
∆∆) 4
,
∆∆4 5

SkillLevel
«« 
=
««  
recipe
««! '
.
««' (

SkillLevel
««( 2
,
««2 3
TimeForCooking
»» "
=
»»# $
recipe
»»% +
.
»»+ ,
TimeForCooking
»», :
,
»»: ;
Type
…… 
=
…… 
new
…… 

RecipeType
…… )
{
   
Id
ÀÀ 
=
ÀÀ 
recipe
ÀÀ #
.
ÀÀ# $
Type
ÀÀ$ (
.
ÀÀ( )
Id
ÀÀ) +
,
ÀÀ+ ,
Type
ÃÃ 
=
ÃÃ 
recipe
ÃÃ %
.
ÃÃ% &
Type
ÃÃ& *
.
ÃÃ* +
Type
ÃÃ+ /
}
ÕÕ 
,
ÕÕ 
Products
ŒŒ 
=
ŒŒ 
recipe
ŒŒ %
.
ŒŒ% &
Products
ŒŒ& .
.
ŒŒ. /
Select
ŒŒ/ 5
(
ŒŒ5 6
x
ŒŒ6 7
=>
ŒŒ8 :
new
ŒŒ; >

ProductDTO
ŒŒ? I
{
œœ 
Id
–– 
=
–– 
x
–– 
.
–– 
Id
–– !
,
––! "
ProductName
—— #
=
——$ %
x
——& '
.
——' (
ProductName
——( 3
==
——4 6
null
——7 ;
?
——< =
$str
——> @
:
——A B
x
——C D
.
——D E
ProductName
——E P
,
——P Q
}
““ 
)
““ 
.
““ 
ToList
““ 
(
““ 
)
““ 
,
““  #
RecipeCreatorUserName
”” )
=
””* +
recipe
””, 2
.
””2 3
User
””3 7
.
””7 8
UserName
””8 @
,
””@ A
Rating
‘‘ 
=
‘‘ 
recipe
‘‘ #
.
‘‘# $
Rating
‘‘$ *
,
‘‘* +
RatedPeopleCount
’’ $
=
’’% &
recipe
’’' -
.
’’- .
RatedPeopleCount
’’. >
,
’’> ?
}
÷÷ 
)
÷÷ 
;
÷÷ 
}
◊◊ 
return
ÿÿ 
Ok
ÿÿ 
(
ÿÿ 
response
ÿÿ 
)
ÿÿ 
;
ÿÿ  
}
ŸŸ 	
[
⁄⁄ 	
HttpGet
⁄⁄	 
]
⁄⁄ 
[
€€ 	
Route
€€	 
(
€€ 
$str
€€ 
)
€€ 
]
€€ 
public
‹‹ 
async
‹‹ 
Task
‹‹ 
<
‹‹ 
IActionResult
‹‹ '
>
‹‹' (
GetRecipeById
‹‹) 6
(
‹‹6 7
[
‹‹7 8
	FromRoute
‹‹8 A
]
‹‹A B
int
‹‹C F
id
‹‹G I
)
‹‹I J
{
›› 	
var
ﬁﬁ 
recipe
ﬁﬁ 
=
ﬁﬁ 
await
ﬁﬁ 
_recipeRepository
ﬁﬁ 0
.
ﬁﬁ0 1
GetByIdAsync
ﬁﬁ1 =
(
ﬁﬁ= >
id
ﬁﬁ> @
)
ﬁﬁ@ A
;
ﬁﬁA B
if
ﬂﬂ 
(
ﬂﬂ 
recipe
ﬂﬂ 
==
ﬂﬂ 
null
ﬂﬂ 
)
ﬂﬂ 
{
‡‡ 
return
·· 
NotFound
·· 
(
··  
)
··  !
;
··! "
}
‚‚ 
var
„„ 
reponse
„„ 
=
„„ 
new
„„ 
	RecipeDTO
„„ '
{
‰‰ 
Id
ÂÂ 
=
ÂÂ 
recipe
ÂÂ 
.
ÂÂ 
Id
ÂÂ 
,
ÂÂ 
Title
ÊÊ 
=
ÊÊ 
recipe
ÊÊ 
.
ÊÊ 
Title
ÊÊ $
,
ÊÊ$ %
ShortDescription
ÁÁ  
=
ÁÁ! "
recipe
ÁÁ# )
.
ÁÁ) *
ShortDescription
ÁÁ* :
,
ÁÁ: ;
Description
ËË 
=
ËË 
recipe
ËË $
.
ËË$ %
Description
ËË% 0
,
ËË0 1
ImageUrl
ÈÈ 
=
ÈÈ 
recipe
ÈÈ !
.
ÈÈ! "
ImageUrl
ÈÈ" *
,
ÈÈ* +
Preparation
ÍÍ 
=
ÍÍ 
recipe
ÍÍ $
.
ÍÍ$ %
Preparation
ÍÍ% 0
,
ÍÍ0 1

SkillLevel
ÎÎ 
=
ÎÎ 
recipe
ÎÎ #
.
ÎÎ# $

SkillLevel
ÎÎ$ .
,
ÎÎ. /
TimeForCooking
ÏÏ 
=
ÏÏ  
recipe
ÏÏ! '
.
ÏÏ' (
TimeForCooking
ÏÏ( 6
,
ÏÏ6 7
Type
ÌÌ 
=
ÌÌ 
recipe
ÌÌ 
.
ÌÌ 
Type
ÌÌ "
,
ÌÌ" #
Products
ÓÓ 
=
ÓÓ 
recipe
ÓÓ !
.
ÓÓ! "
Products
ÓÓ" *
.
ÓÓ* +
Select
ÓÓ+ 1
(
ÓÓ1 2
x
ÓÓ2 3
=>
ÓÓ4 6
new
ÓÓ7 :

ProductDTO
ÓÓ; E
{
ÔÔ 
Id
 
=
 
x
 
.
 
Id
 
,
 
ProductName
ÒÒ 
=
ÒÒ  !
x
ÒÒ" #
.
ÒÒ# $
ProductName
ÒÒ$ /
==
ÒÒ0 2
null
ÒÒ3 7
?
ÒÒ8 9
$str
ÒÒ: <
:
ÒÒ= >
x
ÒÒ? @
.
ÒÒ@ A
ProductName
ÒÒA L
,
ÒÒL M
}
ÚÚ 
)
ÚÚ 
.
ÚÚ 
ToList
ÚÚ 
(
ÚÚ 
)
ÚÚ 
,
ÚÚ #
RecipeCreatorUserName
ÛÛ %
=
ÛÛ& '
recipe
ÛÛ( .
.
ÛÛ. /
User
ÛÛ/ 3
.
ÛÛ3 4
UserName
ÛÛ4 <
}
ÙÙ 
;
ÙÙ 
return
ıı 
Ok
ıı 
(
ıı 
reponse
ıı 
)
ıı 
;
ıı 
}
ˆˆ 	
[
˜˜ 	
HttpGet
˜˜	 
]
˜˜ 
[
¯¯ 	
Route
¯¯	 
(
¯¯ 
$str
¯¯ 
)
¯¯ 
]
¯¯  
public
˘˘ 
async
˘˘ 
Task
˘˘ 
<
˘˘ 
IActionResult
˘˘ '
>
˘˘' (
SearchByTitle
˘˘) 6
(
˘˘6 7
string
˘˘7 =
title
˘˘> C
)
˘˘C D
{
˙˙ 	
if
˚˚ 
(
˚˚ 
string
˚˚ 
.
˚˚  
IsNullOrWhiteSpace
˚˚ )
(
˚˚) *
title
˚˚* /
)
˚˚/ 0
)
˚˚0 1
{
¸¸ 
return
˝˝ 

BadRequest
˝˝ !
(
˝˝! "
$str
˝˝" 5
)
˝˝5 6
;
˝˝6 7
}
˛˛ 
var
ÄÄ 
result
ÄÄ 
=
ÄÄ 
await
ÄÄ 
_recipeRepository
ÄÄ 0
.
ÄÄ0 1 
SearchByTitleAsync
ÄÄ1 C
(
ÄÄC D
title
ÄÄD I
)
ÄÄI J
;
ÄÄJ K
if
ÇÇ 
(
ÇÇ 
result
ÇÇ 
==
ÇÇ 
null
ÇÇ 
)
ÇÇ 
{
ÉÉ 
return
ÑÑ 
NotFound
ÑÑ 
(
ÑÑ  
)
ÑÑ  !
;
ÑÑ! "
}
ÖÖ 
return
áá 
Ok
áá 
(
áá 
result
áá 
)
áá 
;
áá 
}
àà 	
[
ââ 	
HttpGet
ââ	 
]
ââ 
[
ää 	
Route
ää	 
(
ää 
$str
ää  
)
ää  !
]
ää! "
public
ãã 
async
ãã 
Task
ãã 
<
ãã 
IActionResult
ãã '
>
ãã' ("
GetRecipesByUserName
ãã) =
(
ãã= >
[
ãã> ?
	FromRoute
ãã? H
]
ããH I
string
ããJ P
userName
ããQ Y
)
ããY Z
{
åå 	
var
éé 
user
éé 
=
éé 
await
éé 
_userManager
éé )
.
éé) *
FindByNameAsync
éé* 9
(
éé9 :
userName
éé: B
)
ééB C
;
ééC D
if
èè 
(
èè 
user
èè 
==
èè 
null
èè 
)
èè 
{
êê 
return
ëë 
NotFound
ëë 
(
ëë  
$"
ëë  "
$str
ëë" 7
{
ëë7 8
userName
ëë8 @
}
ëë@ A
$str
ëëA M
"
ëëM N
)
ëëN O
;
ëëO P
}
íí 
var
ïï 
recipes
ïï 
=
ïï 
await
ïï 
_recipeRepository
ïï  1
.
ïï1 2 
GetRecipesByUserId
ïï2 D
(
ïïD E
user
ïïE I
.
ïïI J
Id
ïïJ L
)
ïïL M
;
ïïM N
if
ññ 
(
ññ 
recipes
ññ 
==
ññ 
null
ññ 
||
ññ  "
!
ññ# $
recipes
ññ$ +
.
ññ+ ,
Any
ññ, /
(
ññ/ 0
)
ññ0 1
)
ññ1 2
{
óó 
return
òò 
NotFound
òò 
(
òò  
$"
òò  "
$str
òò" =
{
òò= >
userName
òò> F
}
òòF G
$str
òòG I
"
òòI J
)
òòJ K
;
òòK L
}
ôô 
var
õõ 
response
õõ 
=
õõ 
recipes
õõ "
.
úú 
Where
úú 
(
úú 
recipe
úú 
=>
úú  
recipe
úú! '
is
úú( *
not
úú+ .
null
úú/ 3
)
úú3 4
.
ùù 
Select
ùù 
(
ùù 
recipe
ùù 
=>
ùù !
new
ùù" %
	RecipeDTO
ùù& /
{
ûû 
Id
üü 
=
üü 
recipe
üü 
.
üü 
Id
üü 
,
üü 
Title
†† 
=
†† 
recipe
†† 
.
†† 
Title
†† $
,
††$ %
ShortDescription
°°  
=
°°! "
recipe
°°# )
.
°°) *
ShortDescription
°°* :
,
°°: ;
Description
¢¢ 
=
¢¢ 
recipe
¢¢ $
.
¢¢$ %
Description
¢¢% 0
,
¢¢0 1
ImageUrl
££ 
=
££ 
recipe
££ !
.
££! "
ImageUrl
££" *
,
££* +
Preparation
§§ 
=
§§ 
recipe
§§ $
.
§§$ %
Preparation
§§% 0
,
§§0 1

SkillLevel
•• 
=
•• 
recipe
•• #
.
••# $

SkillLevel
••$ .
,
••. /
TimeForCooking
¶¶ 
=
¶¶  
recipe
¶¶! '
.
¶¶' (
TimeForCooking
¶¶( 6
,
¶¶6 7
Type
ßß 
=
ßß 
new
ßß 

RecipeType
ßß %
{
®® 
Id
©© 
=
©© 
recipe
©© 
.
©©  
Type
©©  $
.
©©$ %
Id
©©% '
,
©©' (
Type
™™ 
=
™™ 
recipe
™™ !
.
™™! "
Type
™™" &
.
™™& '
Type
™™' +
}
´´ 
,
´´ 
Products
¨¨ 
=
¨¨ 
recipe
¨¨ !
.
¨¨! "
Products
¨¨" *
.
¨¨* +
Select
¨¨+ 1
(
¨¨1 2
x
¨¨2 3
=>
¨¨4 6
new
¨¨7 :

ProductDTO
¨¨; E
{
≠≠ 
Id
ÆÆ 
=
ÆÆ 
x
ÆÆ 
.
ÆÆ 
Id
ÆÆ 
,
ÆÆ 
ProductName
ØØ 
=
ØØ  !
x
ØØ" #
.
ØØ# $
ProductName
ØØ$ /
==
ØØ0 2
null
ØØ3 7
?
ØØ8 9
$str
ØØ: <
:
ØØ= >
x
ØØ? @
.
ØØ@ A
ProductName
ØØA L
,
ØØL M
}
∞∞ 
)
∞∞ 
.
∞∞ 
ToList
∞∞ 
(
∞∞ 
)
∞∞ 
,
∞∞ #
RecipeCreatorUserName
±± %
=
±±& '
user
±±( ,
.
±±, -
UserName
±±- 5
}
≤≤ 
)
≤≤ 
.
≤≤ 
ToList
≤≤ 
(
≤≤ 
)
≤≤ 
;
≤≤ 
return
µµ 
Ok
µµ 
(
µµ 
response
µµ 
)
µµ 
;
µµ  
}
∂∂ 	
[
∑∑ 	
HttpPost
∑∑	 
(
∑∑ 
$str
∑∑ 
)
∑∑ 
]
∑∑ 
public
∏∏ 
async
∏∏ 
Task
∏∏ 
<
∏∏ 
IActionResult
∏∏ '
>
∏∏' (
SearchRecipes
∏∏) 6
(
∏∏6 7
[
∏∏7 8
FromBody
∏∏8 @
]
∏∏@ A
List
∏∏B F
<
∏∏F G
string
∏∏G M
>
∏∏M N"
selectedProductNames
∏∏O c
)
∏∏c d
{
ππ 	
if
∫∫ 
(
∫∫ "
selectedProductNames
∫∫ $
==
∫∫% '
null
∫∫( ,
||
∫∫- /
!
∫∫0 1"
selectedProductNames
∫∫1 E
.
∫∫E F
Any
∫∫F I
(
∫∫I J
)
∫∫J K
)
∫∫K L
{
ªª 
return
ºº 

BadRequest
ºº !
(
ºº! "
$str
ºº" 7
)
ºº7 8
;
ºº8 9
}
ΩΩ 
var
øø 
recipes
øø 
=
øø 
await
øø 
_recipeRepository
øø  1
.
øø1 2/
!SearchBySelectedProductNamesAsync
øø2 S
(
øøS T"
selectedProductNames
øøT h
)
øøh i
;
øøi j
return
¿¿ 
Ok
¿¿ 
(
¿¿ 
recipes
¿¿ 
)
¿¿ 
;
¿¿ 
}
¡¡ 	
[
√√ 	
HttpPost
√√	 
(
√√ 
$str
√√ 
)
√√ 
]
√√ 
public
ƒƒ 
async
ƒƒ 
Task
ƒƒ 
<
ƒƒ 
IActionResult
ƒƒ '
>
ƒƒ' (

RateRecipe
ƒƒ) 3
(
ƒƒ3 4
[
ƒƒ4 5
FromBody
ƒƒ5 =
]
ƒƒ= >
RecipeRatingDTO
ƒƒ? N
	ratingDTO
ƒƒO X
)
ƒƒX Y
{
≈≈ 	
await
∆∆ 
_recipeRepository
∆∆ #
.
∆∆# $
AddRatingAsync
∆∆$ 2
(
∆∆2 3
	ratingDTO
∆∆3 <
.
∆∆< =
UserId
∆∆= C
,
∆∆C D
	ratingDTO
∆∆E N
.
∆∆N O
RecipeId
∆∆O W
,
∆∆W X
	ratingDTO
∆∆Y b
.
∆∆b c
Rating
∆∆c i
)
∆∆i j
;
∆∆j k
return
»» 
Ok
»» 
(
»» 
)
»» 
;
»» 
}
…… 	
[
ÀÀ 	
HttpGet
ÀÀ	 
(
ÀÀ 
$str
ÀÀ 
)
ÀÀ 
]
ÀÀ 
public
ÃÃ 
async
ÃÃ 
Task
ÃÃ 
<
ÃÃ 
IActionResult
ÃÃ '
>
ÃÃ' (
GetRecipeRating
ÃÃ) 8
(
ÃÃ8 9
string
ÃÃ9 ?
userId
ÃÃ@ F
,
ÃÃF G
int
ÃÃH K
id
ÃÃL N
)
ÃÃN O
{
ÕÕ 	
var
ŒŒ 
averageRating
ŒŒ 
=
ŒŒ 
await
ŒŒ  %
_recipeRepository
ŒŒ& 7
.
ŒŒ7 8#
GetAverageRatingAsync
ŒŒ8 M
(
ŒŒM N
userId
ŒŒN T
,
ŒŒT U
id
ŒŒV X
)
ŒŒX Y
;
ŒŒY Z
return
–– 
Ok
–– 
(
–– 
averageRating
–– #
)
––# $
;
––$ %
}
—— 	
[
”” 	
HttpPost
””	 
(
”” 
$str
”” +
)
””+ ,
]
””, -
public
‘‘ 
async
‘‘ 
Task
‘‘ 
<
‘‘ 
IActionResult
‘‘ '
>
‘‘' (

AddComment
‘‘) 3
(
‘‘3 4

CommentDTO
‘‘4 >
comment
‘‘? F
)
‘‘F G
{
’’ 	
var
÷÷ 
commentInsert
÷÷ 
=
÷÷ 
new
÷÷  #
Comment
÷÷$ +
{
◊◊ 
Text
ÿÿ 
=
ÿÿ 
comment
ÿÿ 
.
ÿÿ 
Comment
ÿÿ &
,
ÿÿ& '
PostedAt
ŸŸ 
=
ŸŸ 
DateTime
ŸŸ #
.
ŸŸ# $
UtcNow
ŸŸ$ *
,
ŸŸ* +
UserId
⁄⁄ 
=
⁄⁄ 
comment
⁄⁄  
.
⁄⁄  !
UserId
⁄⁄! '
,
⁄⁄' (
RecipeId
€€ 
=
€€ 
comment
€€ "
.
€€" #
RecipeId
€€# +
,
€€+ ,

AuthorName
‹‹ 
=
‹‹ 
comment
‹‹ $
.
‹‹$ %

AuthorName
‹‹% /
,
‹‹/ 0
}
›› 
;
›› 
await
‡‡ 
_recipeRepository
‡‡ #
.
‡‡# $
AddCommentAsync
‡‡$ 3
(
‡‡3 4
commentInsert
‡‡4 A
)
‡‡A B
;
‡‡B C
return
‚‚ 
Ok
‚‚ 
(
‚‚ 
)
‚‚ 
;
‚‚ 
}
„„ 	
[
ÂÂ 	
HttpGet
ÂÂ	 
(
ÂÂ 
$str
ÂÂ *
)
ÂÂ* +
]
ÂÂ+ ,
public
ÊÊ 
async
ÊÊ 
Task
ÊÊ 
<
ÊÊ 
IActionResult
ÊÊ '
>
ÊÊ' (#
GetCommentsByRecipeId
ÊÊ) >
(
ÊÊ> ?
int
ÊÊ? B
recipeId
ÊÊC K
)
ÊÊK L
{
ÁÁ 	
var
ËË 
comments
ËË 
=
ËË 
await
ËË  
_recipeRepository
ËË! 2
.
ËË2 3(
GetCommentsByRecipeIdAsync
ËË3 M
(
ËËM N
recipeId
ËËN V
)
ËËV W
;
ËËW X
if
ÍÍ 
(
ÍÍ 
comments
ÍÍ 
==
ÍÍ 
null
ÍÍ  
||
ÍÍ! #
!
ÍÍ$ %
comments
ÍÍ% -
.
ÍÍ- .
Any
ÍÍ. 1
(
ÍÍ1 2
)
ÍÍ2 3
)
ÍÍ3 4
{
ÎÎ 
return
ÏÏ 
NotFound
ÏÏ 
(
ÏÏ  
$"
ÏÏ  "
$str
ÏÏ" H
{
ÏÏH I
recipeId
ÏÏI Q
}
ÏÏQ R
$str
ÏÏR T
"
ÏÏT U
)
ÏÏU V
;
ÏÏV W
}
ÌÌ 
return
ÔÔ 
Ok
ÔÔ 
(
ÔÔ 
comments
ÔÔ 
)
ÔÔ 
;
ÔÔ  
}
 	
[
ÒÒ 	
HttpPut
ÒÒ	 
(
ÒÒ 
$str
ÒÒ 
)
ÒÒ 
]
ÒÒ  
public
ÚÚ 
async
ÚÚ 
Task
ÚÚ 
<
ÚÚ 
IActionResult
ÚÚ '
>
ÚÚ' ()
UpdateVerificationForRecipe
ÚÚ) D
(
ÚÚD E
int
ÚÚE H
id
ÚÚI K
)
ÚÚK L
{
ÛÛ 	
var
ÙÙ 
recipe
ÙÙ 
=
ÙÙ 
await
ÙÙ 
_recipeRepository
ÙÙ 0
.
ÙÙ0 1
GetByIdAsync
ÙÙ1 =
(
ÙÙ= >
id
ÙÙ> @
)
ÙÙ@ A
;
ÙÙA B
if
ıı 
(
ıı 
recipe
ıı 
is
ıı 
null
ıı 
)
ıı 
{
ˆˆ 
return
˜˜ 
NotFound
˜˜ 
(
˜˜  
)
˜˜  !
;
˜˜! "
}
¯¯ 
var
˙˙ 
updatedRecipe
˙˙ 
=
˙˙ 
await
˙˙  %
_recipeRepository
˙˙& 7
.
˙˙7 8!
UpdateVerifiedAsync
˙˙8 K
(
˙˙K L
recipe
˙˙L R
)
˙˙R S
;
˙˙S T
if
¸¸ 
(
¸¸ 
updatedRecipe
¸¸ 
!=
¸¸  
null
¸¸! %
&&
¸¸& (
updatedRecipe
¸¸) 6
.
¸¸6 7
Title
¸¸7 <
!=
¸¸= ?
null
¸¸@ D
)
¸¸D E
{
˝˝ 
var
˛˛ 
response
˛˛ 
=
˛˛ 
new
˛˛ "
	RecipeDTO
˛˛# ,
{
ˇˇ 
Id
ÄÄ 
=
ÄÄ 
updatedRecipe
ÄÄ &
.
ÄÄ& '
Id
ÄÄ' )
,
ÄÄ) *
Title
ÅÅ 
=
ÅÅ 
updatedRecipe
ÅÅ )
.
ÅÅ) *
Title
ÅÅ* /
,
ÅÅ/ 0
}
ÉÉ 
;
ÉÉ 
return
ÑÑ 
Ok
ÑÑ 
(
ÑÑ 
response
ÑÑ "
)
ÑÑ" #
;
ÑÑ# $
}
ÖÖ 
return
áá 
NotFound
áá 
(
áá 
)
áá 
;
áá 
}
àà 	
}
ää 
}ãã ˝@
`C:\Users\ASUS\source\repos\Recipes_API\Recipes_APIS\Recipes_API\Controllers\ProductController.cs
	namespace		 	
Recipe		
 
.		 
Controllers		 
{

 
[ 
Route 

(
 
$str 
) 
] 
[ 
ApiController 
] 
public 

class 
ProductController "
:# $
ControllerBase% 3
{ 
private 
readonly 
IProductRepository +
_productRepository, >
;> ?
public 
ProductController  
(  !
IProductRepository! 3
productRepository4 E
)E F
{ 	
_productRepository 
=  
productRepository! 2
;2 3
} 	
[ 	
HttpPut	 
( 
$str 
) 
]  
public 
async 
Task 
< 
IActionResult '
>' ((
UpdateVerificationForProduct) E
(E F
intF I
idJ L
)L M
{ 	
var 
product 
= 
await 
_productRepository  2
.2 3
GetByIdAsync3 ?
(? @
id@ B
)B C
;C D
if 
( 
product 
is 
null 
)  
{ 
return 
NotFound 
(  
)  !
;! "
} 
var 
updatedProduct 
=  
await  %
_productRepository' 9
.9 :
UpdateVerifiedAsync: M
(M N
productN U
)U V
;V W
if 
( 
updatedProduct 
!= !
null" &
&&' )
updatedProduct* 8
.8 9
ProductName9 D
!=E G
nullH L
)L M
{ 
var 
response 
= 
new "

ProductDTO# -
{   
Id!! 
=!! 
updatedProduct!! '
.!!' (
Id!!( *
,!!* +
ProductName"" 
=""  !
updatedProduct""" 0
.""0 1
ProductName""1 <
}## 
;## 
return$$ 
Ok$$ 
($$ 
response$$ "
)$$" #
;$$# $
}%% 
return&& 
NotFound&& 
(&& 
)&& 
;&& 
})) 	
[** 	
HttpGet**	 
]** 
public++ 
async++ 
Task++ 
<++ 
IActionResult++ '
>++' (
GetAllProducts++) 7
(++7 8
)++8 9
{,, 	
var-- 
products-- 
=-- 
await--  
_productRepository--! 3
.--3 4
GetAllAsync--4 ?
(--? @
)--@ A
;--A B
var// 
response// 
=// 
new// 
List// #
<//# $

ProductDTO//$ .
>//. /
(/// 0
)//0 1
;//1 2
foreach00 
(00 
var00 
product00  
in00! #
products00$ ,
)00, -
{11 
if22 
(22 
product22 
.22 
ProductName22 '
!=22( *
null22+ /
)22/ 0
{33 
response44 
.44 
Add44  
(44  !
new44! $

ProductDTO44% /
{55 
Id66 
=66 
product66 $
.66$ %
Id66% '
,66' (
ProductName77 #
=77$ %
product77& -
.77- .
ProductName77. 9
}88 
)88 
;88 
}99 
}:: 
return;; 
Ok;; 
(;; 
response;; 
);; 
;;;  
}<< 	
[>> 
HttpGet>> 

(>>
 
$str>> 
)>> 
]>> 
public?? 
async??	 
Task?? 
<?? 
IActionResult?? !
>??! ""
GetNonVerifiedProducts??# 9
(??9 :
)??: ;
{@@ 
varAA 
nonVerifiedProductsAA 
=AA 
awaitAA "
_productRepositoryAA# 5
.AA5 6%
GetAllNonVerifiedProductsAA6 O
(AAO P
)AAP Q
;AAQ R
varCC 
responseCC 
=CC 
newCC 
ListCC 
<CC 

ProductDTOCC %
>CC% &
(CC& '
)CC' (
;CC( )
foreachDD 

(DD 
varDD 
productDD 
inDD 
nonVerifiedProductsDD .
)DD. /
{EE 
ifFF 
(FF 
productFF 
.FF 
ProductNameFF 
!=FF 
nullFF #
)FF# $
{GG 
responseHH 
.HH 
AddHH 
(HH 
newHH 

ProductDTOHH  
{II 
IdJJ 
=JJ	 

productJJ 
.JJ 
IdJJ 
,JJ 
ProductNameKK 
=KK 
productKK 
.KK 
ProductNameKK '
}LL 
)LL 
;LL 
}MM 
}NN 
returnOO 	
OkOO
 
(OO 
responseOO 
)OO 
;OO 
}PP 
[QQ 
HttpGetQQ 

]QQ
 
[RR 	
RouteRR	 
(RR 
$strRR 
)RR 
]RR 
publicSS 
asyncSS 
TaskSS 
<SS 
IActionResultSS '
>SS' (
GetProductByIdSS) 7
(SS7 8
[SS8 9
	FromRouteSS9 B
]SSB C
intSSD G
idSSH J
)SSJ K
{TT 	
varUU 
productUU 
=UU 
awaitUU 
_productRepositoryUU  2
.UU2 3
GetByIdAsyncUU3 ?
(UU? @
idUU@ B
)UUB C
;UUC D
ifVV 
(VV 
productVV 
==VV 
nullVV 
||VV  "
productVV# *
.VV* +
ProductNameVV+ 6
==VV7 9
nullVV: >
)VV> ?
{WW 
returnXX 
NotFoundXX 
(XX  
)XX  !
;XX! "
}YY 
varZZ 
responseZZ 
=ZZ 
newZZ 

ProductDTOZZ )
{[[ 
Id\\ 
=\\ 
product\\ 
.\\ 
Id\\ 
,\\  
ProductName]] 
=]] 
product]] %
.]]% &
ProductName]]& 1
}^^ 
;^^ 
return__ 
Ok__ 
(__ 
response__ 
)__ 
;__  
}`` 	
[aa 
HttpPostaa 
]aa 
publicbb 
asyncbb	 
Taskbb 
<bb 
IActionResultbb !
>bb! "
CreateProductbb# 0
(bb0 1
[bb1 2
FromBodybb2 :
]bb: ;
ProductCreateDTObb< L
requestbbM T
)bbT U
{cc 
varee 
procuctee 
=ee 
newee 
Productee 
{ff 
ProductNamegg 
=gg 
requestgg 
.gg 
ProductNamegg %
}ii 
;ii 
varjj 
productFromDbjj 
=jj 
awaitjj 
_productRepositoryjj /
.jj/ 0
CreateAsyncjj0 ;
(jj; <
procuctjj< C
)jjC D
;jjD E
varkk 
responsekk 
=kk 
newkk 

ProductDTOkk )
{ll 
Idmm 
=mm 
productFromDbmm "
.mm" #
Idmm# %
,mm% &
ProductNamenn 
=nn 
productFromDbnn )
.nn) *
ProductNamenn* 5
}pp 
;pp 
returnqq 	
Okqq
 
(qq 
responseqq 
)qq 
;qq 
}rr 
}tt 
}uu 